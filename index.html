<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeSphere - The Ultimate Online Compiler</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .logo-icon {
            font-size: 2rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transform: rotate(5deg);
            transition: transform 0.3s;
        }

        .logo-icon:hover {
            transform: rotate(0deg) scale(1.1);
        }

        .logo-text h1 {
            font-size: 1.8rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .logo-text p {
            font-size: 0.8rem;
            color: #666;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            transition: width 0.3s;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            color: white;
            background: rgba(0, 0, 0, 0.1);
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto 2rem;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .hero-badges {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease 0.4s both;
        }

        .badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 0.8rem 1.5rem;
            border-radius: 40px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        /* Feature Cards */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            animation: fadeInUp 1s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .feature-card p {
            color: #666;
            font-size: 0.95rem;
        }

        /* Compiler Section */
        .compiler-section {
            background: white;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
            margin-bottom: 3rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .compiler-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1.5rem 2rem;
            color: white;
        }

        .compiler-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .compiler-header p {
            opacity: 0.95;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 1rem;
            padding: 1.5rem 2rem;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab-btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            color: #64748b;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        /* Language Info */
        .language-info {
            padding: 1.5rem 2rem;
            background: #f1f5f9;
        }

        .info-box {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .info-box p {
            color: #475569;
            font-size: 0.95rem;
        }

        /* Language Selector */
        .language-selector {
            display: flex;
            gap: 0.8rem;
            padding: 1.5rem 2rem;
            flex-wrap: wrap;
            background: white;
        }

        .lang-btn {
            padding: 0.7rem 1.5rem;
            border: 2px solid #e2e8f0;
            border-radius: 30px;
            background: white;
            color: #475569;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lang-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .lang-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: transparent;
            color: white;
        }

        /* Editor */
        .editor-wrapper {
            padding: 0 2rem 2rem;
        }

        .editor-container {
            background: #1e1e1e;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid #333;
        }

        .editor-header {
            background: #2d2d2d;
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #404040;
        }

        .editor-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .editor-title h3 {
            font-size: 1rem;
            font-weight: 500;
        }

        .version-badge {
            background: #667eea;
            padding: 0.2rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        #code-editor {
            width: 100%;
            height: 300px;
            background: #1e1e1e;
            border: none;
            color: #d4d4d4;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            padding: 1.5rem;
            resize: vertical;
            outline: none;
        }

        /* IO Section */
        .io-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            padding: 2rem;
            background: #f8fafc;
        }

        .io-box {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .io-header {
            background: #f1f5f9;
            padding: 1rem 1.5rem;
            font-weight: 600;
            color: #475569;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .io-content {
            padding: 1.5rem;
        }

        #stdin-input {
            width: 100%;
            height: 150px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            font-family: monospace;
            resize: vertical;
            font-size: 14px;
        }

        #stdin-input:focus {
            outline: 2px solid #667eea;
            border-color: transparent;
        }

        .output-area {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 1rem;
            min-height: 150px;
            max-height: 300px;
            overflow-y: auto;
            color: #d4d4d4;
            font-family: monospace;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.6;
        }

        .output-area .success {
            color: #10b981;
        }

        .output-area .error {
            color: #ef4444;
        }

        .output-area .warning {
            color: #f59e0b;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 1rem;
            padding: 2rem;
            justify-content: center;
            background: white;
        }

        .btn {
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 40px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f1f5f9;
            color: #475569;
        }

        .btn-secondary:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Preview */
        .preview-section {
            padding: 2rem;
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
            display: none;
        }

        .preview-section.active {
            display: block;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .preview-header h3 {
            color: #475569;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #preview {
            width: 100%;
            height: 300px;
            border: none;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        /* Stats */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin: 3rem 0;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        /* FAQ Section */
        .faq-section {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin: 3rem 0;
        }

        .faq-section h2 {
            text-align: center;
            margin-bottom: 2rem;
            color: #333;
        }

        .faq-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }

        .faq-item {
            padding: 1.5rem;
            background: #f8fafc;
            border-radius: 12px;
        }

        .faq-item h4 {
            color: #333;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .faq-item p {
            color: #64748b;
            font-size: 0.95rem;
        }

        /* Footer */
        .footer {
            background: #1e293b;
            color: white;
            padding: 3rem 2rem;
            margin-top: 3rem;
            border-radius: 30px 30px 0 0;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;
        }

        .footer-section h4 {
            margin-bottom: 1rem;
            color: #94a3b8;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section ul li a {
            color: #cbd5e1;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section ul li a:hover {
            color: #667eea;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #334155;
            color: #94a3b8;
        }

        /* Loading */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-left: 4px solid #667eea;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .io-section {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .nav {
                flex-direction: column;
                gap: 1rem;
            }
            
            .stats-section {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .faq-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav">
            <div class="logo">
                <div class="logo-icon">‚ö°</div>
                <div class="logo-text">
                    <h1>CodeSphere</h1>
                    <p>Compile anything, anywhere</p>
                </div>
            </div>
            <div class="nav-links">
                <a href="#features">Features</a>
                <a href="#compiler">Compiler</a>
                <a href="#faq">FAQ</a>
                <a href="#contact">Contact</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <h1>The Ultimate Online Compiler</h1>
        <p>Write, compile, and run code in 12+ programming languages directly in your browser. No setup, no installations, just pure coding.</p>
        <div class="hero-badges">
            <span class="badge">üêç Python 3.10</span>
            <span class="badge">‚òï Java 15.0.2</span>
            <span class="badge">‚ö° C++ 14</span>
            <span class="badge">#Ô∏è‚É£ C# 6.12.0</span>
            <span class="badge">‚ö° JavaScript 1.32.3</span>
            <span class="badge">üî∑ TypeScript 5.0.3</span>
        </div>
    </section>

    <!-- Main Container -->
    <div class="container">
        <!-- Features Grid -->
        <div class="features-grid" id="features">
            <div class="feature-card">
                <div class="feature-icon">üöÄ</div>
                <h3>Instant Compilation</h3>
                <p>Compile and run your code instantly with our powerful cloud-based engine. Get results in milliseconds.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üîí</div>
                <h3>Secure Execution</h3>
                <p>Your code runs in isolated containers, ensuring complete security and privacy for your programs.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üì±</div>
                <h3>Live Preview</h3>
                <p>See your HTML, CSS, and JavaScript changes in real-time with our live preview feature.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üíæ</div>
                <h3>Auto Save</h3>
                <p>Never lose your work. Your code is automatically saved in your browser's local storage.</p>
            </div>
        </div>

        <!-- Compiler Section -->
        <div class="compiler-section" id="compiler">
            <div class="compiler-header">
                <h2>‚ö° Online Compiler</h2>
                <p>Choose your language, write code, and see the output instantly</p>
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-btn active" onclick="switchMode('web', event)">üåê Web Development</button>
                <button class="tab-btn" onclick="switchMode('lang', event)">‚öôÔ∏è Programming Languages</button>
            </div>

            <!-- Language Info -->
            <div class="language-info" id="language-info">
                <div class="info-box">
                    <p>üí° <strong>Web Development Mode:</strong> Write HTML, CSS, and JavaScript with live preview. Perfect for building and testing web pages.</p>
                </div>
            </div>

            <!-- Language Selector -->
            <div class="language-selector" id="lang-selector"></div>

            <!-- Editor -->
            <div class="editor-wrapper">
                <div class="editor-container">
                    <div class="editor-header">
                        <div class="editor-title">
                            <span id="editor-icon">üåê</span>
                            <h3 id="editor-title">HTML Editor</h3>
                        </div>
                        <span class="version-badge" id="version-badge">HTML5</span>
                    </div>
                    <textarea id="code-editor" placeholder="Write your code here..." spellcheck="false"></textarea>
                </div>
            </div>

            <!-- Input/Output Section -->
            <div class="io-section">
                <div class="io-box">
                    <div class="io-header">
                        <span>üì•</span> Standard Input (stdin)
                    </div>
                    <div class="io-content">
                        <textarea id="stdin-input" placeholder="Enter input for your program here..."></textarea>
                    </div>
                </div>
                <div class="io-box">
                    <div class="io-header">
                        <span>üì§</span> Program Output
                    </div>
                    <div class="io-content">
                        <div class="output-area" id="output">// Ready to compile. Click Run to execute your code.</div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <button class="btn btn-primary" id="run-btn" onclick="runCode()">
                    <span>‚ñ∂</span> Run Code
                </button>
                <button class="btn btn-secondary" onclick="clearCode()">
                    <span>üóëÔ∏è</span> Clear
                </button>
                <button class="btn btn-secondary" onclick="loadSample()">
                    <span>üìã</span> Load Sample
                </button>
                <button class="btn btn-secondary" onclick="loadHelloWorld()">
                    <span>üëã</span> Hello World
                </button>
            </div>

            <!-- Live Preview (Web Mode) -->
            <div class="preview-section" id="preview-section">
                <div class="preview-header">
                    <h3><span>üåê</span> Live Preview</h3>
                    <span class="version-badge" id="preview-status">Ready</span>
                </div>
                <iframe id="preview" title="Live Preview" sandbox="allow-scripts allow-same-origin allow-forms"></iframe>
            </div>
        </div>

        <!-- Stats Section -->
        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-number">12+</div>
                <div class="stat-label">Programming Languages</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">1M+</div>
                <div class="stat-label">Compilations Daily</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">50K+</div>
                <div class="stat-label">Active Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">99.9%</div>
                <div class="stat-label">Uptime</div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section" id="faq">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-grid">
                <div class="faq-item">
                    <h4><span>‚ùì</span> Is it really free?</h4>
                    <p>Yes! CodeSphere is completely free for all users. No hidden charges or premium features.</p>
                </div>
                <div class="faq-item">
                    <h4><span>‚ùì</span> What languages are supported?</h4>
                    <p>We support Python, Java, C++, C, C#, PHP, Ruby, Go, Rust, TypeScript, plus HTML, CSS, and JavaScript.</p>
                </div>
                <div class="faq-item">
                    <h4><span>‚ùì</span> Do I need to install anything?</h4>
                    <p>No installation needed! Everything runs in your browser. Just open the website and start coding.</p>
                </div>
                <div class="faq-item">
                    <h4><span>‚ùì</span> Is my code saved?</h4>
                    <p>Your code is automatically saved in your browser's local storage. You can also manually save it.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="footer-content">
            <div class="footer-section">
                <h4>CodeSphere</h4>
                <p>The ultimate online compiler for developers. Write, compile, and run code in your browser.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#compiler">Compiler</a></li>
                    <li><a href="#faq">FAQ</a></li>
                    <li><a href="#">Documentation</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Connect With Us</h4>
                <ul>
                    <li><a href="#">GitHub</a></li>
                    <li><a href="#">Twitter</a></li>
                    <li><a href="#">Discord</a></li>
                    <li><a href="#">Email</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2024 CodeSphere. Made with ‚ù§Ô∏è for developers worldwide</p>
        </div>
    </footer>

    <script>
        // Piston API Configuration
        const PISTON_API = 'https://emkc.org/api/v2/piston';

        // Language configurations with Piston runtime support
        const languages = {
            // Web Dev Languages
            html: {
                name: 'HTML',
                icon: 'üåê',
                version: 'HTML5',
                mode: 'web',
                description: 'HTML (HyperText Markup Language) is the standard markup language for creating web pages.',
                sample: getHTMLSample(),
                helloWorld: getHTMLHelloWorld()
            },
            css: {
                name: 'CSS',
                icon: 'üé®',
                version: 'CSS3',
                mode: 'web',
                description: 'CSS (Cascading Style Sheets) is used to style and layout web pages.',
                sample: getCSSSample(),
                helloWorld: getCSSHelloWorld()
            },
            js: {
                name: 'JavaScript',
                icon: '‚ö°',
                version: 'ES2022',
                mode: 'web',
                description: 'JavaScript is a programming language that enables interactive web pages.',
                sample: getJSSample(),
                helloWorld: getJSHelloWorld()
            },
            // Programming Languages with Piston support
            python: {
                name: 'Python',
                icon: 'üêç',
                version: '3.10.0',
                language: 'python',
                mode: 'lang',
                description: 'Python is a high-level, interpreted programming language known for its simplicity and readability. Used in web development, data science, AI, and automation.',
                sample: getPythonSample(),
                helloWorld: getPythonHelloWorld()
            },
            java: {
                name: 'Java',
                icon: '‚òï',
                version: '15.0.2',
                language: 'java',
                mode: 'lang',
                description: 'Java is a class-based, object-oriented programming language designed for portability. Used in enterprise applications, Android development, and large systems.',
                sample: getJavaSample(),
                helloWorld: getJavaHelloWorld()
            },
            cpp: {
                name: 'C++',
                icon: '‚ö°',
                version: '10.2.0',
                language: 'cpp',
                mode: 'lang',
                description: 'C++ is a powerful general-purpose programming language with object-oriented features. Used in game development, system programming, and performance-critical applications.',
                sample: getCppSample(),
                helloWorld: getCppHelloWorld()
            },
            c: {
                name: 'C',
                icon: 'üîß',
                version: '10.2.0',
                language: 'c',
                mode: 'lang',
                description: 'C is a general-purpose, procedural programming language. Used in operating systems, embedded systems, and system software.',
                sample: getCSample(),
                helloWorld: getCHelloWorld()
            },
            csharp: {
                name: 'C#',
                icon: '#Ô∏è‚É£',
                version: '6.12.0',
                language: 'csharp',
                mode: 'lang',
                description: 'C# is a modern, object-oriented programming language developed by Microsoft. Used in Windows applications, game development with Unity, and enterprise software.',
                sample: getCSharpSample(),
                helloWorld: getCSharpHelloWorld()
            },
            php: {
                name: 'PHP',
                icon: 'üêò',
                version: '8.2.3',
                language: 'php',
                mode: 'lang',
                description: 'PHP is a server-side scripting language designed for web development. Powers major platforms like WordPress, Laravel, and Facebook.',
                sample: getPHPSample(),
                helloWorld: getPHPHelloWorld()
            },
            ruby: {
                name: 'Ruby',
                icon: 'üíé',
                version: '3.0.1',
                language: 'ruby',
                mode: 'lang',
                description: 'Ruby is a dynamic, object-oriented programming language known for its simplicity and productivity. Used in web development with Ruby on Rails.',
                sample: getRubySample(),
                helloWorld: getRubyHelloWorld()
            },
            go: {
                name: 'Go',
                icon: 'üîµ',
                version: '1.16.2',
                language: 'go',
                mode: 'lang',
                description: 'Go is a statically typed, compiled programming language designed at Google. Used in cloud services, microservices, and network programming.',
                sample: Go,
                helloWorld: getGoHelloWorld()
            },
            rust: {
                name: 'Rust',
                icon: 'ü¶Ä',
                version: '1.68.2',
                language: 'rust',
                mode: 'lang',
                description: 'Rust is a systems programming language focused on safety and performance. Used in system programming, web assembly, and high-performance applications.',
                sample: getRustSample(),
                helloWorld: getRustHelloWorld()
            },
            typescript: {
                name: 'TypeScript',
                icon: 'üìò',
                version: '5.0.3',
                language: 'typescript',
                mode: 'lang',
                description: 'TypeScript is a typed superset of JavaScript that compiles to plain JavaScript. Used in large-scale web applications and enterprise frontend development.',
                sample: getTypeScriptSample(),
                helloWorld: getTypeScriptHelloWorld()
            },
            swift: {
                name: 'Swift',
                icon: 'üê¶',
                version: '5.3.3',
                language: 'swift',
                mode: 'lang',
                description: 'Swift is a powerful and intuitive programming language for iOS, macOS, and other Apple platforms.',
                sample: getSwiftSample(),
                helloWorld: getSwiftHelloWorld()
            },
            kotlin: {
                name: 'Kotlin',
                icon: 'üÖ∫',
                version: '1.8.20',
                language: 'kotlin',
                mode: 'lang',
                description: 'Kotlin is a modern programming language that runs on the JVM. Used for Android development, server-side applications, and multiplatform projects.',
                sample: getKotlinSample(),
                helloWorld: getKotlinHelloWorld()
            },
            r: {
                name: 'R',
                icon: 'üìä',
                version: '4.1.1',
                language: 'r',
                mode: 'lang',
                description: 'R is a programming language for statistical computing and graphics. Used in data analysis, machine learning, and research.',
                sample: getRSample(),
                helloWorld: getRHelloWorld()
            }
        };

        // Sample code generators for each language
        function getHTMLSample() {
            return `<!DOCTYPE html>
<html>
<head>
    <title>Modern Web Page</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
        }
        
        .card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 500px;
            animation: slideUp 0.5s ease;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        h1 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2.5em;
        }
        
        p {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
        }
        
        .btn-outline:hover {
            background: #667eea;
            color: white;
        }
        
        .counter {
            font-size: 3em;
            color: #764ba2;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>üöÄ Welcome to CodeSphere</h1>
        <p>This is a complete HTML5 document with embedded CSS and JavaScript. Click the buttons below to see interactivity in action!</p>
        
        <div class="counter" id="counter">0</div>
        
        <button class="btn" onclick="increment()">Increment</button>
        <button class="btn btn-outline" onclick="reset()">Reset</button>
        
        <p style="margin-top: 30px; font-size: 0.9em; color: #a0aec0;">
            Current time: <span id="time"></span>
        </p>
    </div>

    <script>
        let count = 0;
        const counter = document.getElementById('counter');
        const timeSpan = document.getElementById('time');
        
        function increment() {
            count++;
            counter.textContent = count;
            updateTime();
        }
        
        function reset() {
            count = 0;
            counter.textContent = count;
            updateTime();
        }
        
        function updateTime() {
            const now = new Date();
            timeSpan.textContent = now.toLocaleTimeString();
        }
        
        // Update time every second
        setInterval(updateTime, 1000);
        updateTime();
    </script>
</body>
</html>`;
        }

        function getHTMLHelloWorld() {
            return `<!DOCTYPE html>
<html>
<head>
    <title>Hello World</title>
</head>
<body>
    <h1>Hello, World!</h1>
    <p>Welcome to HTML programming!</p>
</body>
</html>`;
        }

        function getCSSSample() {
            return `/* Modern CSS Features Showcase */
:root {
    --primary: #667eea;
    --secondary: #764ba2;
    --text: #2d3748;
    --light: #f7fafc;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.container {
    perspective: 1000px;
}

.card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
    max-width: 600px;
    transform-style: preserve-3d;
    animation: float 6s ease-in-out infinite;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

@keyframes float {
    0%, 100% {
        transform: translateY(0) rotateX(0deg);
    }
    50% {
        transform: translateY(-20px) rotateX(2deg);
    }
}

h1 {
    font-size: 2.5em;
    margin-bottom: 20px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.box {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    transition: all 0.3s;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.box:hover {
    transform: scale(1.05) translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
}

.box:nth-child(1) { background: linear-gradient(135deg, #667eea, #764ba2); }
.box:nth-child(2) { background: linear-gradient(135deg, #f093fb, #f5576c); }
.box:nth-child(3) { background: linear-gradient(135deg, #4facfe, #00f2fe); }

.button {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 30px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
    width: 100%;
    position: relative;
    overflow: hidden;
}

.button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.button:hover::before {
    width: 300px;
    height: 300px;
}

.button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
}

.loader {
    width: 50px;
    height: 50px;
    border: 5px solid #f3f3f3;
    border-top: 5px solid var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.tooltip {
    position: relative;
    display: inline-block;
}

.tooltip .tooltiptext {
    visibility: hidden;
    width: 120px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -60px;
    opacity: 0;
    transition: opacity 0.3s;
}

.tooltip:hover .tooltiptext {
    visibility: visible;
    opacity: 1;
}

@media (max-width: 768px) {
    .card {
        padding: 20px;
    }
    
    h1 {
        font-size: 2em;
    }
    
    .grid {
        grid-template-columns: 1fr;
    }
}`;
        }

        function getCSSHelloWorld() {
            return `body {
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background: linear-gradient(135deg, #667eea, #764ba2);
}

h1 {
    color: white;
    text-align: center;
    font-size: 3em;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}`;
        }

        function getJSSample() {
            return `// Modern JavaScript Features Demo
// Classes, Promises, Async/Await, and more

class TaskManager {
    constructor() {
        this.tasks = [];
        this.listeners = [];
    }

    addTask(task) {
        this.tasks.push({
            id: Date.now(),
            text: task,
            completed: false,
            createdAt: new Date()
        });
        this.notifyListeners();
        return this.tasks[this.tasks.length - 1];
    }

    completeTask(id) {
        const task = this.tasks.find(t => t.id === id);
        if (task) {
            task.completed = true;
            this.notifyListeners();
        }
    }

    deleteTask(id) {
        this.tasks = this.tasks.filter(t => t.id !== id);
        this.notifyListeners();
    }

    getStats() {
        return {
            total: this.tasks.length,
            completed: this.tasks.filter(t => t.completed).length,
            pending: this.tasks.filter(t => !t.completed).length
        };
    }

    addListener(callback) {
        this.listeners.push(callback);
    }

    notifyListeners() {
        this.listeners.forEach(cb => cb(this.tasks));
    }
}

// Async function demo
async function fetchUserData(userId) {
    // Simulating API call
    return new Promise((resolve) => {
        setTimeout(() => {
            resolve({
                id: userId,
                name: 'John Doe',
                email: 'john@example.com',
                role: 'Developer'
            });
        }, 1000);
    });
}

// Generator function demo
function* idGenerator() {
    let id = 1;
    while (true) {
        yield id++;
    }
}

// Main application
document.addEventListener('DOMContentLoaded', () => {
    const app = document.getElementById('app');
    const gen = idGenerator();
    const manager = new TaskManager();

    // Create UI
    app.innerHTML = \`
        <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
            <h1 style="color: #667eea; text-align: center;">üìã Task Manager</h1>
            
            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <input type="text" id="taskInput" placeholder="Enter new task..." 
                    style="flex: 1; padding: 10px; border: 2px solid #e2e8f0; border-radius: 8px;">
                <button id="addBtn" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">Add Task</button>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 20px;" id="stats"></div>
            
            <div id="taskList"></div>
            
            <div style="margin-top: 20px; padding: 15px; background: #f7fafc; border-radius: 8px;">
                <h3 style="color: #4a5568;">Async Demo - User Data:</h3>
                <div id="userData">Loading...</div>
            </div>
        </div>
    \`;

    // Stats update
    function updateStats() {
        const stats = manager.getStats();
        document.getElementById('stats').innerHTML = \`
            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <div style="font-size: 24px; font-weight: bold; color: #667eea;">\${stats.total}</div>
                <div style="color: #718096;">Total Tasks</div>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <div style="font-size: 24px; font-weight: bold; color: #48bb78;">\${stats.completed}</div>
                <div style="color: #718096;">Completed</div>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <div style="font-size: 24px; font-weight: bold; color: #f56565;">\${stats.pending}</div>
                <div style="color: #718096;">Pending</div>
            </div>
        \`;
    }

    // Task list update
    manager.addListener((tasks) => {
        const list = document.getElementById('taskList');
        list.innerHTML = tasks.map(task => \`
            <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px; background: white; margin-bottom: 10px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" \${task.completed ? 'checked' : ''} onchange="window.completeTask(\${task.id})">
                    <span style="\${task.completed ? 'text-decoration: line-through; color: #a0aec0;' : ''}">\${task.text}</span>
                </div>
                <button onclick="window.deleteTask(\${task.id})" style="background: #f56565; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Delete</button>
            </div>
        \`).join('');
        updateStats();
    });

    // Event listeners
    document.getElementById('addBtn').addEventListener('click', () => {
        const input = document.getElementById('taskInput');
        if (input.value.trim()) {
            manager.addTask(input.value);
            input.value = '';
        }
    });

    document.getElementById('taskInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            document.getElementById('addBtn').click();
        }
    });

    // Async demo
    fetchUserData(gen.next().value).then(user => {
        document.getElementById('userData').innerHTML = \`
            <p><strong>ID:</strong> \${user.id}</p>
            <p><strong>Name:</strong> \${user.name}</p>
            <p><strong>Email:</strong> \${user.email}</p>
            <p><strong>Role:</strong> \${user.role}</p>
        \`;
    });

    // Add some sample tasks
    manager.addTask('Learn JavaScript');
    manager.addTask('Build a project');
    manager.addTask('Master async/await');
});

// Make functions global for onclick handlers
window.completeTask = (id) => {
    // This will be handled by the manager
    console.log('Complete task:', id);
};

window.deleteTask = (id) => {
    console.log('Delete task:', id);
};`;
        }

        function getJSHelloWorld() {
            return `// Hello World in JavaScript
console.log("Hello, World!");

// Alert in browser
alert("Hello, World!");

// DOM manipulation
document.body.innerHTML = "<h1 style='color: #667eea; text-align: center; margin-top: 50px;'>Hello, World! üåç</h1>";`;
        }

        function getPythonSample() {
            return `# Python - Data Science & Automation Example
import sys
import json
from datetime import datetime
from collections import Counter
from typing import List, Dict, Optional

class DataAnalyzer:
    """A class for analyzing numerical data with various statistical methods"""
    
    def __init__(self, name: str):
        self.name = name
        self.data: List[float] = []
        self.metadata: Dict = {
            'created_at': datetime.now().isoformat(),
            'analyzer': name
        }
    
    def add_data(self, *values: float) -> None:
        """Add multiple data points to the analyzer"""
        self.data.extend(values)
        print(f"  ‚úì Added {len(values)} data points")
    
    def add_data_from_string(self, data_string: str) -> None:
        """Parse and add data from a comma-separated string"""
        try:
            values = [float(x.strip()) for x in data_string.split(',') if x.strip()]
            self.add_data(*values)
        except ValueError as e:
            print(f"  ‚úó Error parsing data: {e}")
    
    @property
    def mean(self) -> float:
        """Calculate the mean (average) of the data"""
        if not self.data:
            return 0.0
        return sum(self.data) / len(self.data)
    
    @property
    def median(self) -> float:
        """Calculate the median of the data"""
        if not self.data:
            return 0.0
        sorted_data = sorted(self.data)
        n = len(sorted_data)
        mid = n // 2
        
        if n % 2 == 0:
            return (sorted_data[mid - 1] + sorted_data[mid]) / 2
        return sorted_data[mid]
    
    @property
    def mode(self) -> List[float]:
        """Find the mode(s) of the data"""
        if not self.data:
            return []
        counter = Counter(self.data)
        max_count = max(counter.values())
        return [val for val, count in counter.items() if count == max_count]
    
    @property
    def standard_deviation(self) -> float:
        """Calculate the standard deviation"""
        if len(self.data) < 2:
            return 0.0
        mean = self.mean
        variance = sum((x - mean) ** 2 for x in self.data) / (len(self.data) - 1)
        return variance ** 0.5
    
    def summary(self) -> Dict:
        """Generate a statistical summary"""
        return {
            'count': len(self.data),
            'mean': round(self.mean, 2),
            'median': round(self.median, 2),
            'mode': [round(x, 2) for x in self.mode],
            'std_dev': round(self.standard_deviation, 2),
            'min': round(min(self.data), 2) if self.data else None,
            'max': round(max(self.data), 2) if self.data else None,
            'range': round(max(self.data) - min(self.data), 2) if self.data else None
        }
    
    def __str__(self) -> str:
        """String representation"""
        stats = self.summary()
        return f"üìä DataAnalyzer '{self.name}': {stats['count']} points, mean={stats['mean']}"

def fibonacci_generator(n: int):
    """Generator function for Fibonacci sequence"""
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

def process_with_lambda(data: List[int]) -> List[int]:
    """Demonstrate lambda functions and list comprehensions"""
    # Double each number using lambda with map
    doubled = list(map(lambda x: x * 2, data))
    
    # Filter even numbers using lambda with filter
    evens = list(filter(lambda x: x % 2 == 0, data))
    
    # Square each number using list comprehension
    squares = [x ** 2 for x in data]
    
    return doubled, evens, squares

def main():
    print("=" * 50)
    print("üêç Python Data Analysis Demo")
    print("=" * 50)
    
    # Get user input
    name = input("\nEnter your name: ").strip() or "User"
    print(f"\nHello, {name}! Let's analyze some data.\n")
    
    # Create analyzer
    analyzer = DataAnalyzer(name)
    
    # Add sample data
    sample_data = [12, 45, 67, 23, 45, 89, 34, 23, 67, 90, 12, 45]
    analyzer.add_data(*sample_data)
    
    # Get additional data from user
    user_data = input("\nEnter additional numbers (comma-separated, or press Enter to skip): ").strip()
    if user_data:
        analyzer.add_data_from_string(user_data)
    
    # Display results
    print("\n" + "=" * 50)
    print("üìà Analysis Results")
    print("=" * 50)
    
    stats = analyzer.summary()
    for key, value in stats.items():
        print(f"  {key:12}: {value}")
    
    # Fibonacci sequence
    print("\n" + "=" * 50)
    print("üî¢ Fibonacci Sequence (first 10 numbers)")
    print("=" * 50)
    fib_numbers = list(fibonacci_generator(10))
    print("  " + " ‚Üí ".join(str(x) for x in fib_numbers))
    
    # Lambda function demo
    print("\n" + "=" * 50)
    print("üîÑ Lambda Functions Demo")
    print("=" * 50)
    test_data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    doubled, evens, squares = process_with_lambda(test_data)
    
    print(f"  Original : {test_data}")
    print(f"  Doubled  : {doubled}")
    print(f"  Evens    : {evens}")
    print(f"  Squares  : {squares}")
    
    # JSON serialization
    print("\n" + "=" * 50)
    print("üì¶ JSON Output")
    print("=" * 50)
    print(json.dumps(stats, indent=2))
    
    print("\n‚úÖ Analysis complete!")

if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n\nüëã Goodbye!")
    except Exception as e:
        print(f"\n‚ùå Error: {e}")
        sys.exit(1)`;
        }

        function getPythonHelloWorld() {
            return `# Hello World in Python
print("Hello, World!")

# Simple input example
name = input("What's your name? ")
print(f"Hello, {name}! Welcome to Python!")

# Multiple prints
print("Python is awesome!")
print("Let's learn together! üêç")`;
        }

        function getJavaSample() {
            return `// Java - Enterprise Application Example
import java.util.*;
import java.time.*;
import java.util.stream.*;
import java.util.function.*;

/**
 * Employee Management System demonstrating Java OOP features
 */
class Employee {
    private int id;
    private String name;
    private String department;
    private double salary;
    private LocalDate joinDate;
    private List<String> skills;
    
    public Employee(int id, String name, String department, double salary, LocalDate joinDate) {
        this.id = id;
        this.name = name;
        this.department = department;
        this.salary = salary;
        this.joinDate = joinDate;
        this.skills = new ArrayList<>();
    }
    
    // Getters and setters
    public int getId() { return id; }
    public String getName() { return name; }
    public String getDepartment() { return department; }
    public double getSalary() { return salary; }
    public LocalDate getJoinDate() { return joinDate; }
    public List<String> getSkills() { return new ArrayList<>(skills); }
    
    public void addSkill(String skill) {
        skills.add(skill);
    }
    
    public void addSkills(String... skillArray) {
        skills.addAll(Arrays.asList(skillArray));
    }
    
    public double getAnnualSalary() {
        return salary * 12;
    }
    
    public int getYearsOfService(LocalDate currentDate) {
        return (int) ChronoUnit.YEARS.between(joinDate, currentDate);
    }
    
    @Override
    public String toString() {
        return String.format("Employee{id=%d, name='%s', dept='%s', salary=‚Çπ%.2f, skills=%s}",
                id, name, department, salary, skills);
    }
}

/**
 * Department class with employee management
 */
class Department {
    private String name;
    private String manager;
    private List<Employee> employees;
    private Map<String, Double> budget;
    
    public Department(String name, String manager) {
        this.name = name;
        this.manager = manager;
        this.employees = new ArrayList<>();
        this.budget = new HashMap<>();
    }
    
    public void addEmployee(Employee emp) {
        employees.add(emp);
        System.out.println("  ‚úì Added: " + emp.getName() + " to " + name);
    }
    
    public void removeEmployee(int employeeId) {
        employees.removeIf(emp -> emp.getId() == employeeId);
    }
    
    public double getTotalSalaryExpense() {
        return employees.stream()
                .mapToDouble(Employee::getSalary)
                .sum();
    }
    
    public Optional<Employee> getHighestPaidEmployee() {
        return employees.stream()
                .max(Comparator.comparingDouble(Employee::getSalary));
    }
    
    public List<Employee> getEmployeesBySkill(String skill) {
        return employees.stream()
                .filter(emp -> emp.getSkills().contains(skill))
                .collect(Collectors.toList());
    }
    
    public Map<String, Long> getSkillDistribution() {
        return employees.stream()
                .flatMap(emp -> emp.getSkills().stream())
                .collect(Collectors.groupingBy(
                    skill -> skill,
                    Collectors.counting()
                ));
    }
    
    public void displayEmployees() {
        System.out.println("\nüìã Employees in " + name + ":");
        employees.stream()
                .sorted(Comparator.comparing(Employee::getName))
                .forEach(emp -> System.out.println("  ‚Ä¢ " + emp));
    }
}

/**
 * Main application class
 */
public class Main {
    
    @FunctionalInterface
    interface SalaryCalculator {
        double calculate(Employee emp, double multiplier);
    }
    
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        LocalDate currentDate = LocalDate.now();
        
        System.out.println("=" .repeat(60));
        System.out.println("‚òï Java Enterprise Application Demo");
        System.out.println("=" .repeat(60));
        
        // Get user input
        System.out.print("\nEnter your name: ");
        String userName = scanner.nextLine();
        System.out.printf("\nHello, %s! Welcome to Employee Management System\n\n", userName);
        
        // Create departments
        Department engineering = new Department("Engineering", "Alice Johnson");
        Department marketing = new Department("Marketing", "Bob Smith");
        Department sales = new Department("Sales", "Carol Davis");
        
        // Create employees
        Employee emp1 = new Employee(1, "John Doe", "Engineering", 75000, 
                LocalDate.of(2022, 3, 15));
        emp1.addSkills("Java", "Spring", "SQL", "Git");
        
        Employee emp2 = new Employee(2, "Jane Smith", "Engineering", 82000, 
                LocalDate.of(2021, 6, 1));
        emp2.addSkills("Python", "Django", "React", "Docker");
        
        Employee emp3 = new Employee(3, "Mike Wilson", "Marketing", 65000, 
                LocalDate.of(2023, 1, 10));
        emp3.addSkills("SEO", "Content Writing", "Analytics");
        
        Employee emp4 = new Employee(4, "Sarah Brown", "Sales", 70000, 
                LocalDate.of(2022, 9, 20));
        emp4.addSkills("Negotiation", "CRM", "Communication");
        
        // Add employees to departments
        System.out.println("üì¶ Adding employees to departments:");
        engineering.addEmployee(emp1);
        engineering.addEmployee(emp2);
        marketing.addEmployee(emp3);
        sales.addEmployee(emp4);
        
        // Display department information
        System.out.println("\n" + "=" .repeat(60));
        System.out.println("üìä Department Analysis");
        System.out.println("=" .repeat(60));
        
        // Process each department
        List<Department> departments = Arrays.asList(engineering, marketing, sales);
        
        departments.forEach(dept -> {
            System.out.printf("\nüè¢ Department: %s\n", dept.getClass().getMethod(/* TODO: Get name */).toString());
            System.out.printf("  Total Salary Expense: ‚Çπ%.2f\n", dept.getTotalSalaryExpense());
            
            dept.getHighestPaidEmployee().ifPresent(emp ->
                System.out.printf("  Highest Paid: %s (‚Çπ%.2f)\n", emp.getName(), emp.getSalary())
            );
            
            Map<String, Long> skills = dept.getSkillDistribution();
            if (!skills.isEmpty()) {
                System.out.println("  Skill Distribution:");
                skills.entrySet().stream()
                        .sorted(Map.Entry.<String, Long>comparingByValue().reversed())
                        .forEach(entry -> 
                            System.out.printf("    ‚Ä¢ %s: %d\n", entry.getKey(), entry.getValue())
                        );
            }
            
            dept.displayEmployees();
        });
        
        // Lambda expression demo
        System.out.println("\n" + "=" .repeat(60));
        System.out.println("üîÑ Lambda Expression Demo");
        System.out.println("=" .repeat(60));
        
        SalaryCalculator bonusCalculator = (emp, multiplier) -> emp.getSalary() * multiplier;
        
        System.out.println("\nBonus Calculations:");
        engineering.getHighestPaidEmployee().ifPresent(emp -> {
            double bonus = bonusCalculator.calculate(emp, 0.15);
            System.out.printf("  %s's bonus (15%%): ‚Çπ%.2f\n", emp.getName(), bonus);
        });
        
        // Stream operations demo
        System.out.println("\nüìà Stream Operations:");
        
        // Find employees with salary > 70000
        List<Employee> highEarners = departments.stream()
                .flatMap(dept -> dept.getEmployees().stream())
                .filter(emp -> emp.getSalary() > 70000)
                .sorted(Comparator.comparingDouble(Employee::getSalary).reversed())
                .collect(Collectors.toList());
        
        System.out.println("  High Earners (>‚Çπ70000):");
        highEarners.forEach(emp -> 
            System.out.printf("    ‚Ä¢ %s: ‚Çπ%.2f\n", emp.getName(), emp.getSalary())
        );
        
        // Calculate average salary
        double avgSalary = departments.stream()
                .flatMap(dept -> dept.getEmployees().stream())
                .mapToDouble(Employee::getSalary)
                .average()
                .orElse(0);
        
        System.out.printf("\n  Average Salary: ‚Çπ%.2f\n", avgSalary);
        
        // Group employees by first letter of name
        Map<Character, List<Employee>> byFirstLetter = departments.stream()
                .flatMap(dept -> dept.getEmployees().stream())
                .collect(Collectors.groupingBy(
                    emp -> emp.getName().charAt(0)
                ));
        
        System.out.println("\n  Employees grouped by first letter:");
        byFirstLetter.forEach((letter, emps) -> 
            System.out.printf("    %c: %d employees\n", letter, emps.size())
        );
        
        System.out.println("\n‚úÖ Application completed successfully!");
        scanner.close();
    }
}`;
        }

        function getJavaHelloWorld() {
            return `// Hello World in Java
public class Main {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
        
        // Simple input example
        java.util.Scanner scanner = new java.util.Scanner(System.in);
        System.out.print("Enter your name: ");
        String name = scanner.nextLine();
        System.out.println("Hello, " + name + "!");
        scanner.close();
    }
}`;
        }

        function getCppSample() {
            return `// C++ - Game Development & Systems Programming Example
#include <iostream>
#include <vector>
#include <map>
#include <string>
#include <algorithm>
#include <memory>
#include <chrono>
#include <thread>
#include <random>
#include <iomanip>

using namespace std;
using namespace chrono;

// Forward declarations
class GameObject;
class Player;
class Enemy;

// Interface for drawable objects
class Drawable {
public:
    virtual void draw() const = 0;
    virtual ~Drawable() = default;
};

// Interface for updateable objects
class Updateable {
public:
    virtual void update(float deltaTime) = 0;
    virtual ~Updateable() = default;
};

// Base game object class
class GameObject : public Drawable, public Updateable {
protected:
    string name;
    int health;
    int maxHealth;
    float x, y;
    
public:
    GameObject(const string& name, int health, float x = 0, float y = 0)
        : name(name), health(health), maxHealth(health), x(x), y(y) {
        cout << "  ‚úì Created: " << name << " (HP: " << health << ")" << endl;
    }
    
    virtual ~GameObject() {
        cout << "  ‚úó Destroyed: " << name << endl;
    }
    
    // Virtual functions
    virtual void takeDamage(int damage) {
        health = max(0, health - damage);
        cout << "  üí• " << name << " took " << damage << " damage! HP: " << health << "/" << maxHealth << endl;
    }
    
    virtual void heal(int amount) {
        health = min(maxHealth, health + amount);
        cout << "  üíö " << name << " healed " << amount << "! HP: " << health << "/" << maxHealth << endl;
    }
    
    bool isAlive() const { return health > 0; }
    float getX() const { return x; }
    float getY() const { return y; }
    string getName() const { return name; }
    
    // Override base class methods
    void draw() const override {
        cout << "  üéÆ Drawing " << name << " at (" << x << ", " << y << ")" << endl;
    }
    
    void update(float deltaTime) override {
        // Base update - do nothing
    }
};

// Player class derived from GameObject
class Player : public GameObject {
private:
    int level;
    int experience;
    int experienceToNextLevel;
    vector<string> inventory;
    
public:
    Player(const string& name) 
        : GameObject(name, 100), level(1), experience(0), experienceToNextLevel(100) {
        inventory.push_back("Sword");
        inventory.push_back("Health Potion");
    }
    
    void gainExperience(int exp) {
        experience += exp;
        cout << "  ‚ú® " << name << " gained " << exp << " XP!" << endl;
        
        while (experience >= experienceToNextLevel) {
            levelUp();
        }
    }
    
    void levelUp() {
        level++;
        experience -= experienceToNextLevel;
        maxHealth += 20;
        health = maxHealth;
        experienceToNextLevel = static_cast<int>(experienceToNextLevel * 1.5);
        
        cout << "  ‚≠ê " << name << " reached level " << level << "!" << endl;
        cout << "     Max HP increased to " << maxHealth << endl;
    }
    
    void addItem(const string& item) {
        inventory.push_back(item);
        cout << "  üì¶ " << name << " acquired: " << item << endl;
    }
    
    void showInventory() const {
        cout << "  üéí " << name << "'s Inventory:" << endl;
        for (const auto& item : inventory) {
            cout << "    ‚Ä¢ " << item << endl;
        }
    }
    
    void update(float deltaTime) override {
        // Player-specific updates
        x += deltaTime * 5; // Move right slowly
    }
};

// Enemy class derived from GameObject
class Enemy : public GameObject {
private:
    int damage;
    float detectionRange;
    
public:
    Enemy(const string& type, int health, int damage, float range)
        : GameObject(type, health), damage(damage), detectionRange(range) {}
    
    void attack(Player& player) {
        if (isAlive()) {
            cout << "  ‚öîÔ∏è " << name << " attacks " << player.getName() << " for " << damage << " damage!" << endl;
            player.takeDamage(damage);
        }
    }
    
    void update(float deltaTime) override {
        // Enemy AI - move randomly
        static random_device rd;
        static mt19937 gen(rd());
        static uniform_real_distribution<float> dis(-1.0f, 1.0f);
        
        x += dis(gen) * deltaTime * 2;
        y += dis(gen) * deltaTime * 2;
    }
};

// Template class for a generic container
template<typename T>
class GameContainer {
private:
    vector<T> items;
    string name;
    
public:
    GameContainer(const string& name) : name(name) {}
    
    void add(const T& item) {
        items.push_back(item);
        cout << "  üì¶ Added to " << name << ": " << item << endl;
    }
    
    void remove(const T& item) {
        auto it = find(items.begin(), items.end(), item);
        if (it != items.end()) {
            items.erase(it);
            cout << "  üóëÔ∏è Removed from " << name << ": " << item << endl;
        }
    }
    
    bool contains(const T& item) const {
        return find(items.begin(), items.end(), item) != items.end();
    }
    
    size_t size() const { return items.size(); }
    
    void display() const {
        cout << "  üìã " << name << " contents:" << endl;
        for (const auto& item : items) {
            cout << "    ‚Ä¢ " << item << endl;
        }
    }
};

// Main function
int main() {
    cout << "=" << string(60, '=') << endl;
    cout << "‚ö° C++ Game Development Demo" << endl;
    cout << "=" << string(60, '=') << endl;
    
    // Get player name
    string playerName;
    cout << "\nEnter your name: ";
    getline(cin, playerName);
    cout << "\nWelcome, " << playerName << "! Starting game...\n" << endl;
    
    // Create game objects using smart pointers
    auto player = make_unique<Player>(playerName);
    vector<unique_ptr<Enemy>> enemies;
    
    // Create enemies
    enemies.push_back(make_unique<Enemy>("Goblin", 30, 5, 10.0f));
    enemies.push_back(make_unique<Enemy>("Orc", 50, 12, 8.0f));
    enemies.push_back(make_unique<Enemy>("Dragon", 100, 25, 15.0f));
    
    // Template container demo
    GameContainer<string> treasure("Treasure Chest");
    treasure.add("Gold Coins");
    treasure.add("Magic Sword");
    treasure.add("Health Potion");
    treasure.add("Dragon Scale");
    
    cout << "\n" << string(60, '-') << endl;
    cout << "üéÆ Game Loop Simulation" << endl;
    cout << string(60, '-') << endl;
    
    // Simulate game loop for a few iterations
    const int iterations = 5;
    float deltaTime = 0.16f; // Simulate ~60 FPS
    
    for (int i = 1; i <= iterations; i++) {
        cout << "\nüîÑ Frame " << i << " (Delta: " << fixed << setprecision(2) << deltaTime << "s)" << endl;
        cout << string(40, '-') << endl;
        
        // Update all game objects
        player->update(deltaTime);
        
        for (auto& enemy : enemies) {
            if (enemy->isAlive()) {
                enemy->update(deltaTime);
                
                // Check if enemy is close enough to attack
                float dx = enemy->getX() - player->getX();
                if (abs(dx) < 5.0f) {
                    enemy->attack(*player);
                }
            }
        }
        
        // Check player status
        if (!player->isAlive()) {
            cout << "\nüíÄ Game Over! " << player->getName() << " has fallen!" << endl;
            break;
        }
        
        // Random events
        if (i == 3) {
            cout << "\n‚ú® Random Event: Treasure Found!" << endl;
            treasure.display();
            player->addItem("Magic Scroll");
            player->gainExperience(50);
        }
        
        if (i == 4) {
            cout << "\nüíö Random Event: Healing Fountain!" << endl;
            player->heal(30);
        }
        
        // Draw everything
        cout << "\nüé® Rendering:" << endl;
        player->draw();
        for (const auto& enemy : enemies) {
            if (enemy->isAlive()) {
                enemy->draw();
            }
        }
    }
    
    // Final statistics
    cout << "\n" << string(60, '=') << endl;
    cout << "üìä Final Statistics" << endl;
    cout << string(60, '=') << endl;
    
    player->showInventory();
    
    cout << "\nüèÜ Game completed successfully!" << endl;
    
    return 0;
}`;
        }

        function getCppHelloWorld() {
            return `// Hello World in C++
#include <iostream>
using namespace std;

int main() {
    cout << "Hello, World!" << endl;
    
    // Simple input example
    string name;
    cout << "Enter your name: ";
    getline(cin, name);
    cout << "Hello, " << name << "!" << endl;
    
    return 0;
}`;
        }

        function getCSample() {
            return `// C - System Programming Example
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

// Structure definitions
typedef struct {
    int id;
    char name[50];
    float balance;
    char accountType[20];
    time_t creationDate;
} BankAccount;

typedef struct {
    int fromAccount;
    int toAccount;
    float amount;
    time_t timestamp;
    char description[100];
} Transaction;

// Function prototypes
BankAccount* createAccount(int id, const char* name, float initialDeposit, const char* type);
void deposit(BankAccount* account, float amount);
int withdraw(BankAccount* account, float amount);
void transfer(BankAccount* from, BankAccount* to, float amount);
void displayAccount(const BankAccount* account);
void displayTransaction(const Transaction* trans);
void saveToFile(const BankAccount* accounts, int count, const char* filename);
float calculateInterest(const BankAccount* account, float rate);

// Dynamic array implementation
typedef struct {
    Transaction* data;
    int size;
    int capacity;
} TransactionArray;

TransactionArray* createTransactionArray(int initialCapacity) {
    TransactionArray* arr = (TransactionArray*)malloc(sizeof(TransactionArray));
    if (!arr) return NULL;
    
    arr->data = (Transaction*)malloc(initialCapacity * sizeof(Transaction));
    arr->size = 0;
    arr->capacity = initialCapacity;
    
    return arr;
}

void addTransaction(TransactionArray* arr, Transaction trans) {
    if (arr->size >= arr->capacity) {
        arr->capacity *= 2;
        arr->data = (Transaction*)realloc(arr->data, arr->capacity * sizeof(Transaction));
    }
    arr->data[arr->size++] = trans;
}

void freeTransactionArray(TransactionArray* arr) {
    if (arr) {
        free(arr->data);
        free(arr);
    }
}

// Account functions
BankAccount* createAccount(int id, const char* name, float initialDeposit, const char* type) {
    BankAccount* account = (BankAccount*)malloc(sizeof(BankAccount));
    if (!account) {
        printf("Memory allocation failed!\n");
        return NULL;
    }
    
    account->id = id;
    strncpy(account->name, name, 49);
    account->name[49] = '\\0';
    account->balance = initialDeposit;
    strncpy(account->accountType, type, 19);
    account->accountType[19] = '\\0';
    account->creationDate = time(NULL);
    
    printf("  ‚úì Account created for %s (ID: %d, Type: %s)\n", name, id, type);
    return account;
}

void deposit(BankAccount* account, float amount) {
    if (amount > 0) {
        account->balance += amount;
        printf("  ‚úì Deposited $%.2f to %s's account. New balance: $%.2f\n", 
               amount, account->name, account->balance);
    }
}

int withdraw(BankAccount* account, float amount) {
    if (amount <= 0) {
        printf("  ‚úó Invalid amount\n");
        return 0;
    }
    
    if (account->balance >= amount) {
        account->balance -= amount;
        printf("  ‚úì Withdrawn $%.2f from %s's account. New balance: $%.2f\n", 
               amount, account->name, account->balance);
        return 1;
    } else {
        printf("  ‚úó Insufficient funds! Available: $%.2f, Requested: $%.2f\n", 
               account->balance, amount);
        return 0;
    }
}

void transfer(BankAccount* from, BankAccount* to, float amount) {
    if (amount <= 0) {
        printf("  ‚úó Invalid transfer amount\n");
        return;
    }
    
    if (from->balance >= amount) {
        from->balance -= amount;
        to->balance += amount;
        printf("  ‚úì Transferred $%.2f from %s to %s\n", 
               amount, from->name, to->name);
    } else {
        printf("  ‚úó Transfer failed! Insufficient funds in %s's account\n", from->name);
    }
}

void displayAccount(const BankAccount* account) {
    if (!account) return;
    
    char timeStr[30];
    struct tm* timeinfo = localtime(&account->creationDate);
    strftime(timeStr, sizeof(timeStr), "%Y-%m-%d %H:%M:%S", timeinfo);
    
    printf("\n  üìã Account Details:\n");
    printf("     ID: %d\n", account->id);
    printf("     Name: %s\n", account->name);
    printf("     Type: %s\n", account->accountType);
    printf("     Balance: $%.2f\n", account->balance);
    printf("     Created: %s\n", timeStr);
}

float calculateInterest(const BankAccount* account, float rate) {
    float interest = account->balance * rate / 100.0;
    printf("  üí∞ Interest earned at %.1f%%: $%.2f\n", rate, interest);
    return interest;
}

// File I/O demonstration
void saveToFile(const BankAccount* accounts, int count, const char* filename) {
    FILE* file = fopen(filename, "w");
    if (!file) {
        printf("  ‚úó Failed to open file for writing\n");
        return;
    }
    
    fprintf(file, "=== Bank Accounts Report ===\n");
    fprintf(file, "Generated: %s", ctime(&(time_t){time(NULL)}));
    fprintf(file, "%-5s %-20s %-15s %10s\n", "ID", "Name", "Type", "Balance");
    fprintf(file, "----------------------------------------\n");
    
    float totalBalance = 0;
    for (int i = 0; i < count; i++) {
        fprintf(file, "%-5d %-20s %-15s $%9.2f\n", 
                accounts[i].id, 
                accounts[i].name, 
                accounts[i].accountType, 
                accounts[i].balance);
        totalBalance += accounts[i].balance;
    }
    
    fprintf(file, "----------------------------------------\n");
    fprintf(file, "Total Balance: $%.2f\n", totalBalance);
    fprintf(file, "Average Balance: $%.2f\n", totalBalance / count);
    
    fclose(file);
    printf("  ‚úì Data saved to %s\n", filename);
}

// Main function
int main() {
    printf("=", 50);
    printf("üîß C System Programming Demo\n");
    printf("=", 50);
    
    // Get user input
    char userName[50];
    printf("\nEnter your name: ");
    fgets(userName, sizeof(userName), stdin);
    userName[strcspn(userName, "\n")] = 0;
    printf("Hello, %s! Welcome to Banking System\n\n", userName);
    
    // Create transaction array
    TransactionArray* transactions = createTransactionArray(10);
    
    // Create bank accounts
    BankAccount* accounts[5];
    int accountCount = 0;
    
    accounts[accountCount++] = createAccount(1001, "John Doe", 5000.0, "Checking");
    accounts[accountCount++] = createAccount(1002, "Jane Smith", 10000.0, "Savings");
    accounts[accountCount++] = createAccount(1003, userName, 2500.0, "Checking");
    
    printf("\n", 50);
    printf("üí∞ Account Operations\n");
    printf("", 50);
    
    // Perform operations
    deposit(accounts[0], 1000.0);
    withdraw(accounts[1], 500.0);
    transfer(accounts[0], accounts[2], 200.0);
    
    // Calculate interest
    printf("\n", 50);
    printf("üìà Interest Calculations\n");
    printf("", 50);
    
    for (int i = 0; i < accountCount; i++) {
        float rate = (strcmp(accounts[i]->accountType, "Savings") == 0) ? 3.5 : 1.0;
        calculateInterest(accounts[i], rate);
    }
    
    // Display all accounts
    printf("\n", 50);
    printf("üìä Account Summary\n");
    printf("", 50);
    
    for (int i = 0; i < accountCount; i++) {
        displayAccount(accounts[i]);
    }
    
    // Save to file
    printf("\n", 50);
    printf("üíæ File Operations\n");
    printf("", 50);
    saveToFile((const BankAccount**)accounts, accountCount, "accounts.txt");
    
    // Memory management demonstration
    printf("\n", 50);
    printf("üßπ Memory Management\n");
    printf("", 50);
    
    // Free allocated memory
    for (int i = 0; i < accountCount; i++) {
        free(accounts[i]);
    }
    freeTransactionArray(transactions);
    
    printf("  ‚úì All resources cleaned up\n");
    printf("\n‚úÖ Program completed successfully!\n");
    
    return 0;
}`;
        }

        function getCHelloWorld() {
            return `// Hello World in C
#include <stdio.h>

int main() {
    printf("Hello, World!\\n");
    
    // Simple input example
    char name[50];
    printf("Enter your name: ");
    fgets(name, sizeof(name), stdin);
    printf("Hello, %s", name);
    
    return 0;
}`;
        }

        function getCSharpSample() {
            return `// C# - Enterprise Application Example
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Text.Json;

namespace CodeSphereDemo
{
    // Interface for reportable entities
    public interface IReportable
    {
        string GenerateReport();
    }

    // Abstract base class
    public abstract class Person
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string Email { get; set; }
        
        public Person(int id, string name, string email)
        {
            Id = id;
            Name = name;
            Email = email;
        }
        
        public abstract string GetRole();
        
        public override string ToString()
        {
            return $\"{GetRole()}: {Name} ({Email})\";
        }
    }

    // Derived class: Student
    public class Student : Person, IReportable
    {
        public List<string> Courses { get; set; }
        public Dictionary<string, double> Grades { get; set; }
        
        public Student(int id, string name, string email) 
            : base(id, name, email)
        {
            Courses = new List<string>();
            Grades = new Dictionary<string, double>();
        }
        
        public void EnrollCourse(string course)
        {
            if (!Courses.Contains(course))
            {
                Courses.Add(course);
                Console.WriteLine($"  ‚úì {Name} enrolled in {course}");
            }
        }
        
        public void AddGrade(string course, double grade)
        {
            if (Courses.Contains(course))
            {
                Grades[course] = grade;
                Console.WriteLine($"  ‚úì Grade added: {course} = {grade}");
            }
        }
        
        public double GetGPA()
        {
            if (Grades.Count == 0) return 0;
            return Grades.Values.Average();
        }
        
        public override string GetRole() => "Student";
        
        public string GenerateReport()
        {
            return $@"
    üìö Student Report - {Name}
    ID: {Id}
    Email: {Email}
    Courses: {Courses.Count}
    GPA: {GetGPA():F2}
    Courses: {string.Join(", ", Courses)}";
        }
    }

    // Derived class: Teacher
    public class Teacher : Person, IReportable
    {
        public string Department { get; set; }
        public List<string> Subjects { get; set; }
        public decimal Salary { get; set; }
        
        public Teacher(int id, string name, string email, string department, decimal salary) 
            : base(id, name, email)
        {
            Department = department;
            Salary = salary;
            Subjects = new List<string>();
        }
        
        public void AssignSubject(string subject)
        {
            Subjects.Add(subject);
            Console.WriteLine($"  ‚úì {Name} assigned to teach {subject}");
        }
        
        public override string GetRole() => "Teacher";
        
        public string GenerateReport()
        {
            return $@"
    üë®‚Äçüè´ Teacher Report - {Name}
    ID: {Id}
    Email: {Email}
    Department: {Department}
    Subjects: {Subjects.Count}
    Annual Salary: ${Salary * 12:N2}";
        }
    }

    // Generic repository class
    public class Repository<T> where T : Person
    {
        private List<T> items = new List<T>();
        
        public void Add(T item)
        {
            items.Add(item);
            Console.WriteLine($"  ‚úì Added {item.Name} to repository");
        }
        
        public bool Remove(int id)
        {
            var item = GetById(id);
            if (item != null)
            {
                items.Remove(item);
                Console.WriteLine($"  ‚úì Removed {item.Name} from repository");
                return true;
            }
            return false;
        }
        
        public T GetById(int id)
        {
            return items.FirstOrDefault(i => i.Id == id);
        }
        
        public IEnumerable<T> GetAll()
        {
            return items;
        }
        
        public IEnumerable<T> Find(Func<T, bool> predicate)
        {
            return items.Where(predicate);
        }
        
        public int Count => items.Count;
    }

    // Extension methods
    public static class StringExtensions
    {
        public static string ToTitleCase(this string str)
        {
            if (string.IsNullOrEmpty(str)) return str;
            return char.ToUpper(str[0]) + str.Substring(1).ToLower();
        }
    }

    // Main program
    class Program
    {
        static async Task Main(string[] args)
        {
            Console.WriteLine(new string('=', 60));
            Console.WriteLine("C# Enterprise Application Demo");
            Console.WriteLine(new string('=', 60));
            
            // Get user input
            Console.Write("\nEnter your name: ");
            string userName = Console.ReadLine();
            Console.WriteLine($"\nHello, {userName}! Welcome to School Management System\n");
            
            // Create repositories
            var studentRepo = new Repository<Student>();
            var teacherRepo = new Repository<Teacher>();
            
            // Create students
            Console.WriteLine("üìö Adding Students:");
            var student1 = new Student(1, "Alice Johnson", "alice@school.edu");
            student1.EnrollCourse("Mathematics");
            student1.EnrollCourse("Physics");
            student1.EnrollCourse("Computer Science");
            student1.AddGrade("Mathematics", 95.5);
            student1.AddGrade("Physics", 88.0);
            student1.AddGrade("Computer Science", 92.5);
            studentRepo.Add(student1);
            
            var student2 = new Student(2, "Bob Smith", "bob@school.edu");
            student2.EnrollCourse("Mathematics");
            student2.EnrollCourse("Chemistry");
            student2.AddGrade("Mathematics", 82.0);
            student2.AddGrade("Chemistry", 78.5);
            studentRepo.Add(student2);
            
            // Create teachers
            Console.WriteLine("\nüë®‚Äçüè´ Adding Teachers:");
            var teacher1 = new Teacher(101, "Dr. Sarah Wilson", "swilson@school.edu", "Mathematics", 65000m);
            teacher1.AssignSubject("Calculus");
            teacher1.AssignSubject("Linear Algebra");
            teacherRepo.Add(teacher1);
            
            var teacher2 = new Teacher(102, "Prof. James Brown", "jbrown@school.edu", "Computer Science", 72000m);
            teacher2.AssignSubject("Programming");
            teacher2.AssignSubject("Data Structures");
            teacherRepo.Add(teacher2);
            
            // LINQ queries
            Console.WriteLine("\n" + new string('-', 60));
            Console.WriteLine("üîç LINQ Queries");
            Console.WriteLine(new string('-', 60));
            
            // Find students with GPA > 85
            var topStudents = studentRepo.Find(s => s.GetGPA() > 85);
            Console.WriteLine("\nTop Students (GPA > 85):");
            foreach (var student in topStudents)
            {
                Console.WriteLine($"  ‚Ä¢ {student.Name}: GPA {student.GetGPA():F2}");
            }
            
            // Group teachers by department
            var teachersByDept = teacherRepo.GetAll()
                .GroupBy(t => t.Department)
                .Select(g => new { Department = g.Key, Count = g.Count() });
            
            Console.WriteLine("\nTeachers by Department:");
            foreach (var dept in teachersByDept)
            {
                Console.WriteLine($"  ‚Ä¢ {dept.Department}: {dept.Count} teacher(s)");
            }
            
            // Extension method demo
            Console.WriteLine("\n" + new string('-', 60));
            Console.WriteLine("üîß Extension Methods");
            Console.WriteLine(new string('-', 60));
            
            string testString = "hello world from c#";
            Console.WriteLine($"Original: {testString}");
            Console.WriteLine($"Title Case: {testString.ToTitleCase()}");
            
            // Generate reports
            Console.WriteLine("\n" + new string('-', 60));
            Console.WriteLine("üìä Reports");
            Console.WriteLine(new string('-', 60));
            
            foreach (var student in studentRepo.GetAll())
            {
                Console.WriteLine(student.GenerateReport());
            }
            
            foreach (var teacher in teacherRepo.GetAll())
            {
                Console.WriteLine(teacher.GenerateReport());
            }
            
            // JSON serialization demo
            Console.WriteLine("\n" + new string('-', 60));
            Console.WriteLine("üì¶ JSON Serialization");
            Console.WriteLine(new string('-', 60));
            
            var options = new JsonSerializerOptions { WriteIndented = true };
            string json = JsonSerializer.Serialize(studentRepo.GetAll(), options);
            Console.WriteLine(json);
            
            // Async operation demo
            Console.WriteLine("\n" + new string('-', 60));
            Console.WriteLine("‚è±Ô∏è Async Operations");
            Console.WriteLine(new string('-', 60));
            
            Console.WriteLine("Processing data asynchronously...");
            await Task.Delay(1000); // Simulate async work
            Console.WriteLine("‚úì Data processing complete!");
            
            // Statistics
            Console.WriteLine("\n" + new string('=', 60));
            Console.WriteLine("üìà System Statistics");
            Console.WriteLine(new string('=', 60));
            Console.WriteLine($"  Total Students: {studentRepo.Count}");
            Console.WriteLine($"  Total Teachers: {teacherRepo.Count}");
            Console.WriteLine($"  Average Student GPA: {studentRepo.GetAll().Average(s => s.GetGPA()):F2}");
            Console.WriteLine($"  Average Teacher Salary: ${teacherRepo.GetAll().Average(t => t.Salary):N2}");
            
            Console.WriteLine("\n‚úÖ Application completed successfully!");
        }
    }
}`;
        }

        function getCSharpHelloWorld() {
            return `// Hello World in C#
using System;

class Program
{
    static void Main()
    {
        Console.WriteLine("Hello, World!");
        
        // Simple input example
        Console.Write("Enter your name: ");
        string name = Console.ReadLine();
        Console.WriteLine($"Hello, {name}!");
    }
}`;
        }

        function getPHPSample() {
            return `<?php
// PHP - Web Development Example

// Class definition with properties and methods
class TaskManager {
    private $tasks = [];
    private $userName;
    private $createdAt;
    
    // Constructor
    public function __construct($userName) {
        $this->userName = $userName;
        $this->createdAt = date('Y-m-d H:i:s');
        echo "‚úì Task Manager initialized for $userName at {$this->createdAt}\n";
    }
    
    // Magic methods
    public function __toString() {
        return "TaskManager(user: {$this->userName}, tasks: " . count($this->tasks) . ")";
    }
    
    public function __get($name) {
        if ($name === 'taskCount') {
            return count($this->tasks);
        }
        return null;
    }
    
    // Add a task
    public function addTask($task, $priority = 'medium') {
        $id = uniqid();
        $this->tasks[$id] = [
            'id' => $id,
            'task' => $task,
            'priority' => $priority,
            'completed' => false,
            'created_at' => date('Y-m-d H:i:s')
        ];
        echo "  ‚úì Added task: $task (Priority: $priority)\n";
        return $id;
    }
    
    // Complete a task
    public function completeTask($id) {
        if (isset($this->tasks[$id])) {
            $this->tasks[$id]['completed'] = true;
            echo "  ‚úì Completed: " . $this->tasks[$id]['task'] . "\n";
            return true;
        }
        return false;
    }
    
    // Delete a task
    public function deleteTask($id) {
        if (isset($this->tasks[$id])) {
            $task = $this->tasks[$id]['task'];
            unset($this->tasks[$id]);
            echo "  ‚úì Deleted: $task\n";
            return true;
        }
        return false;
    }
    
    // Get tasks by priority
    public function getTasksByPriority($priority) {
        return array_filter($this->tasks, function($task) use ($priority) {
            return $task['priority'] === $priority;
        });
    }
    
    // Get statistics
    public function getStats() {
        $total = count($this->tasks);
        $completed = count(array_filter($this->tasks, fn($t) => $t['completed']));
        $pending = $total - $completed;
        
        $priorityCounts = [];
        foreach (['high', 'medium', 'low'] as $priority) {
            $priorityCounts[$priority] = count($this->getTasksByPriority($priority));
        }
        
        return [
            'total' => $total,
            'completed' => $completed,
            'pending' => $pending,
            'completion_rate' => $total > 0 ? round(($completed / $total) * 100, 2) : 0,
            'by_priority' => $priorityCounts
        ];
    }
    
    // Display all tasks
    public function displayTasks() {
        if (empty($this->tasks)) {
            echo "  No tasks found.\n";
            return;
        }
        
        echo "\nüìã Tasks for {$this->userName}:\n";
        foreach ($this->tasks as $task) {
            $status = $task['completed'] ? '‚úÖ' : '‚≠ï';
            $priority_icon = match($task['priority']) {
                'high' => 'üî¥',
                'medium' => 'üü°',
                'low' => 'üü¢',
                default => '‚ö™'
            };
            
            echo "  $status $priority_icon [{$task['id']}] " . $task['task'];
            echo " (Created: {$task['created_at']})\n";
        }
    }
    
    // Array iteration with array_map
    public function getTaskSummaries() {
        return array_map(function($task) {
            return [
                'summary' => substr($task['task'], 0, 20) . (strlen($task['task']) > 20 ? '...' : ''),
                'status' => $task['completed'] ? 'Done' : 'Pending',
                'priority' => $task['priority']
            ];
        }, $this->tasks);
    }
    
    // Array filtering with array_filter
    public function getHighPriorityTasks() {
        return array_filter($this->tasks, fn($t) => $t['priority'] === 'high' && !$t['completed']);
    }
    
    // Array reduction with array_reduce
    public function getTotalTaskLength() {
        return array_reduce($this->tasks, function($carry, $task) {
            return $carry + strlen($task['task']);
        }, 0);
    }
}

// Trait for logging
trait Loggable {
    public function log($message) {
        echo "[LOG: " . date('H:i:s') . "] $message\n";
    }
}

// Abstract class for notifications
abstract class Notification {
    protected $recipient;
    
    public function __construct($recipient) {
        $this->recipient = $recipient;
    }
    
    abstract public function send($message);
}

// Email notification class
class EmailNotification extends Notification {
    use Loggable;
    
    public function send($message) {
        $this->log("Sending email to {$this->recipient}");
        echo "  üìß Email sent to {$this->recipient}: $message\n";
    }
}

// Main program
echo str_repeat("=", 60) . "\n";
echo "üêò PHP Web Development Demo\n";
echo str_repeat("=", 60) . "\n";

// Get user input
echo "\nEnter your name: ";
$userName = trim(fgets(STDIN));
echo "Hello, $userName! Welcome to Task Manager\n\n";

// Create task manager
$manager = new TaskManager($userName);

// Add tasks
echo "\nüì¶ Adding tasks:\n";
$task1 = $manager->addTask("Complete project documentation", "high");
$task2 = $manager->addTask("Review pull requests", "high");
$task3 = $manager->addTask("Update dependencies", "medium");
$task4 = $manager->addTask("Schedule team meeting", "low");
$task5 = $manager->addTask("Prepare presentation", "high");

// Display all tasks
$manager->displayTasks();

// Complete some tasks
echo "\n‚úÖ Completing tasks:\n";
$manager->completeTask($task1);
$manager->completeTask($task3);

// Show updated tasks
$manager->displayTasks();

// Get statistics
echo "\n" . str_repeat("-", 60);
echo "\nüìä Statistics\n";
echo str_repeat("-", 60) . "\n";

$stats = $manager->getStats();
foreach ($stats as $key => $value) {
    if (is_array($value)) {
        echo "  $key:\n";
        foreach ($value as $k => $v) {
            echo "    $k: $v\n";
        }
    } else {
        echo "  $key: $value\n";
    }
}

// Array function demos
echo "\n" . str_repeat("-", 60);
echo "\nüîÑ Array Function Demos\n";
echo str_repeat("-", 60) . "\n";

echo "\nTask Summaries:\n";
$summaries = $manager->getTaskSummaries();
print_r($summaries);

echo "\nHigh Priority Tasks:\n";
$highPriority = $manager->getHighPriorityTasks();
foreach ($highPriority as $task) {
    echo "  ‚Ä¢ " . $task['task'] . "\n";
}

echo "\nTotal characters in all tasks: " . $manager->getTotalTaskLength() . "\n";

// String manipulation
echo "\n" . str_repeat("-", 60);
echo "\nüîß String Operations\n";
echo str_repeat("-", 60) . "\n";

$sampleText = "  hello world from PHP  ";
echo "Original: '$sampleText'\n";
echo "Trimmed: '" . trim($sampleText) . "'\n";
echo "Uppercase: " . strtoupper(trim($sampleText)) . "\n";
echo "Replaced: " . str_replace("world", "PHP", trim($sampleText)) . "\n";

// Date operations
echo "\n" . str_repeat("-", 60);
echo "\nüìÖ Date Operations\n";
echo str_repeat("-", 60) . "\n";

echo "Current time: " . date('Y-m-d H:i:s') . "\n";
echo "Timestamp: " . time() . "\n";
echo "Next week: " . date('Y-m-d', strtotime('+1 week')) . "\n";

// Send notification
echo "\n" . str_repeat("-", 60);
echo "\nüìß Notification Demo\n";
echo str_repeat("-", 60) . "\n";

$email = new EmailNotification($userName . "@example.com");
$email->send("Your tasks have been processed!");

// Magic method demo
echo "\n" . str_repeat("-", 60);
echo "\nüé© Magic Methods\n";
echo str_repeat("-", 60) . "\n";

echo $manager . "\n";
echo "Task count via __get: " . $manager->taskCount . "\n";

echo "\n‚úÖ Program completed successfully!\n";
?>`;
        }

        function getPHPHelloWorld() {
            return `<?php
// Hello World in PHP
echo "Hello, World!\\n";

// Simple input example
echo "Enter your name: ";
$name = trim(fgets(STDIN));
echo "Hello, $name!\\n";

// Array example
$greetings = ["Hello", "Hi", "Hey"];
echo $greetings[0] . " from PHP!\\n";
?>`;
        }

        function getRubySample() {
            return `# Ruby - Web Development Example
# Demonstrating Ruby's elegant syntax and metaprogramming

# Module for mixin
module Formattable
  def format_as_table(data)
    puts "+" + "-" * 50 + "+"
    data.each { |row| puts "| #{row}" }
    puts "+" + "-" * 50 + "+"
  end
  
  def format_as_json(data)
    require 'json' unless defined?(JSON)
    JSON.pretty_generate(data)
  end
end

# Class with attr_accessor
class Task
  attr_accessor :title, :priority, :completed
  attr_reader :created_at
  
  def initialize(title, priority = :medium)
    @title = title
    @priority = priority
    @completed = false
    @created_at = Time.now
  end
  
  def complete!
    @completed = true
    puts "  ‚úì Task completed: #{@title}"
  end
  
  def to_s
    status = @completed ? "‚úÖ" : "‚≠ï"
    "#{status} [#{@priority}] #{@title} (created: #{@created_at.strftime('%H:%M:%S')})"
  end
  
  # Custom comparison
  def <=>(other)
    priority_order = { high: 0, medium: 1, low: 2 }
    priority_order[@priority] <=> priority_order[other.priority]
  end
end

# Main class with yield and blocks
class TaskManager
  include Formattable
  include Enumerable
  
  attr_reader :name, :tasks
  
  def initialize(name)
    @name = name
    @tasks = []
    @observers = []
    puts "‚úì TaskManager initialized for #{name}"
  end
  
  # Block usage
  def add_task(title, priority = :medium)
    task = Task.new(title, priority)
    @tasks << task
    
    # Yield to block if given
    yield(task) if block_given?
    
    puts "  ‚úì Added task: #{title} (#{priority})"
    task
  end
  
  # Multiple tasks at once
  def add_tasks(*task_data)
    task_data.each do |data|
      if data.is_a?(Hash)
        add_task(data[:title], data[:priority])
      else
        add_task(data)
      end
    end
  end
  
  # Finders
  def find_by_title(title)
    @tasks.find { |t| t.title.include?(title) }
  end
  
  def find_all_by_priority(priority)
    @tasks.select { |t| t.priority == priority }
  end
  
  def completed_tasks
    @tasks.select(&:completed)
  end
  
  def pending_tasks
    @tasks.reject(&:completed)
  end
  
  # Enumerable implementation
  def each(&block)
    @tasks.each(&block)
  end
  
  # Statistics
  def stats
    {
      total: @tasks.size,
      completed: completed_tasks.size,
      pending: pending_tasks.size,
      completion_rate: @tasks.size > 0 ? (completed_tasks.size.to_f / @tasks.size * 100).round(2) : 0,
      by_priority: {
        high: find_all_by_priority(:high).size,
        medium: find_all_by_priority(:medium).size,
        low: find_all_by_priority(:low).size
      }
    }
  end
  
  # Display all tasks
  def display_tasks
    puts "\nüìã Tasks for #{@name}:"
    if @tasks.empty?
      puts "  No tasks found."
    else
      @tasks.sort.each_with_index do |task, i|
        puts "  #{i+1}. #{task}"
      end
    end
  end
  
  # Method missing for dynamic finders
  def method_missing(method_name, *args)
    if method_name.to_s =~ /^find_by_(.+)$/
      attribute = $1
      find_by(attribute, args.first)
    else
      super
    end
  end
  
  def respond_to_missing?(method_name, include_private = false)
    method_name.to_s.start_with?('find_by_') || super
  end
  
  private
  
  def find_by(attribute, value)
    @tasks.find { |t| t.send(attribute) == value if t.respond_to?(attribute) }
  end
end

# Observer pattern
class TaskObserver
  def update(task)
    puts "  üëÄ Observer notified: #{task.title} changed"
  end
end

# Main program
puts "=" * 60
puts "üíé Ruby Web Development Demo"
puts "=" * 60

# Get user input
print "\nEnter your name: "
user_name = gets.chomp
puts "Hello, #{user_name}! Welcome to Task Manager\n\n"

# Create task manager
manager = TaskManager.new(user_name)

# Add tasks using different methods
puts "\nüì¶ Adding tasks:"
manager.add_task("Learn Ruby basics", :high)
manager.add_task("Build a web app", :high)
manager.add_task("Write documentation", :medium)
manager.add_task("Fix bugs", :low)

# Add multiple tasks at once
manager.add_tasks(
  "Review pull requests",
  { title: "Update dependencies", priority: :high },
  { title: "Plan sprint", priority: :medium }
)

# Display all tasks
manager.display_tasks

# Complete some tasks
puts "\n‚úÖ Completing tasks:"
task = manager.find_by_title("Learn Ruby basics")
task.complete! if task

task = manager.find_by_title("Write documentation")
task.complete! if task

# Display updated tasks
manager.display_tasks

# Statistics
puts "\n" + "-" * 60
puts "üìä Statistics"
puts "-" * 60

stats = manager.stats
stats.each do |key, value|
  if value.is_a?(Hash)
    puts "  #{key}:"
    value.each { |k, v| puts "    #{k}: #{v}" }
  else
    puts "  #{key}: #{value}"
  end
end

# Enumerable methods
puts "\n" + "-" * 60
puts "üîÑ Enumerable Methods"
puts "-" * 60

puts "\nHigh priority tasks:"
high_tasks = manager.find_all_by_priority(:high)
high_tasks.each { |t| puts "  ‚Ä¢ #{t.title}" }

puts "\nTask titles:"
titles = manager.map(&:title)
puts "  " + titles.join(", ")

puts "\nGroup by priority:"
by_priority = manager.group_by(&:priority)
by_priority.each do |priority, tasks|
  puts "  #{priority}: #{tasks.size} tasks"
end

# Formatting with module
puts "\n" + "-" * 60
puts "üìã Formatted Output"
puts "-" * 60

puts "\nTable format:"
manager.format_as_table(manager.map(&:to_s))

puts "\nJSON format:"
puts manager.format_as_json(stats)

# Metaprogramming demo
puts "\n" + "-" * 60
puts "üé© Metaprogramming"
puts "-" * 60

# Dynamic method call
if manager.respond_to?(:find_by_title)
  task = manager.find_by_title("Build")
  puts "Found task via dynamic finder: #{task.title if task}"
end

# String manipulation
puts "\n" + "-" * 60
puts "üîß String Operations"
puts "-" * 60

sample_text = "  hello world from ruby  "
puts "Original: '#{sample_text}'"
puts "Strip: '#{sample_text.strip}'"
puts "Upcase: '#{sample_text.strip.upcase}'"
puts "Reverse: '#{sample_text.strip.reverse}'"
puts "Split: #{sample_text.strip.split.inspect}"

# Time operations
puts "\n" + "-" * 60
puts "‚è∞ Time Operations"
puts "-" * 60

now = Time.now
puts "Current time: #{now}"
puts "Formatted: #{now.strftime("%Y-%m-%d %H:%M:%S")}"
puts "Tomorrow: #{now + 24*60*60}"

puts "\n‚úÖ Program completed successfully!"`;
        }

        function getRubyHelloWorld() {
            return `# Hello World in Ruby
puts "Hello, World!"

# Simple input example
print "Enter your name: "
name = gets.chomp
puts "Hello, #{name}!"

# Array example
greetings = ["Hello", "Hi", "Hey"]
puts greetings[0] + " from Ruby!"`;
        }

        function getGoSample() {
            return `// Go - Concurrent Programming Example
package main

import (
    "bufio"
    "fmt"
    "os"
    "strings"
    "time"
    "sync"
    "math/rand"
)

// Task represents a unit of work
type Task struct {
    ID       int
    Name     string
    Duration time.Duration
    Priority int
}

// Result represents the output of a task
type Result struct {
    TaskID     int
    WorkerID   int
    Output     string
    CompletedAt time.Time
}

// Worker pool implementation
type WorkerPool struct {
    tasks    chan Task
    results  chan Result
    workers  int
    wg       sync.WaitGroup
    quit     chan bool
}

// Create a new worker pool
func NewWorkerPool(workers int) *WorkerPool {
    return &WorkerPool{
        tasks:   make(chan Task, 100),
        results: make(chan Result, 100),
        workers: workers,
        quit:    make(chan bool),
    }
}

// Start the worker pool
func (wp *WorkerPool) Start() {
    for i := 1; i <= wp.workers; i++ {
        wp.wg.Add(1)
        go wp.worker(i)
    }
}

// Stop the worker pool
func (wp *WorkerPool) Stop() {
    close(wp.quit)
    wp.wg.Wait()
    close(wp.results)
}

// Worker function
func (wp *WorkerPool) worker(id int) {
    defer wp.wg.Done()
    
    for {
        select {
        case task, ok := <-wp.tasks:
            if !ok {
                return
            }
            
            // Process the task
            fmt.Printf("  Worker %d starting task: %s (priority %d)\n", 
                id, task.Name, task.Priority)
            
            // Simulate work
            time.Sleep(task.Duration * time.Millisecond)
            
            // Send result
            result := Result{
                TaskID:     task.ID,
                WorkerID:   id,
                Output:     fmt.Sprintf("Completed %s", task.Name),
                CompletedAt: time.Now(),
            }
            
            select {
            case wp.results <- result:
            case <-wp.quit:
                return
            }
            
        case <-wp.quit:
            return
        }
    }
}

// Add a task to the pool
func (wp *WorkerPool) AddTask(task Task) {
    select {
    case wp.tasks <- task:
    case <-wp.quit:
    }
}

// Get results channel
func (wp *WorkerPool) Results() <-chan Result {
    return wp.results
}

// Interface for reportable entities
type Reportable interface {
    GenerateReport() string
}

// Project structure
type Project struct {
    Name        string
    Description string
    Tasks       []Task
    CreatedAt   time.Time
}

func (p Project) GenerateReport() string {
    var sb strings.Builder
    sb.WriteString(fmt.Sprintf("\nüìÅ Project: %s\n", p.Name))
    sb.WriteString(fmt.Sprintf("   Description: %s\n", p.Description))
    sb.WriteString(fmt.Sprintf("   Created: %s\n", p.CreatedAt.Format("2006-01-02 15:04:05")))
    sb.WriteString(fmt.Sprintf("   Tasks: %d\n", len(p.Tasks)))
    
    totalDuration := 0
    for _, task := range p.Tasks {
        totalDuration += int(task.Duration)
    }
    sb.WriteString(fmt.Sprintf("   Total Duration: %dms\n", totalDuration))
    
    return sb.String()
}

// Function with multiple return values
func processTask(task Task) (Result, error) {
    if task.Name == "" {
        return Result{}, fmt.Errorf("task name cannot be empty")
    }
    
    result := Result{
        TaskID:     task.ID,
        Output:     fmt.Sprintf("Processed: %s", task.Name),
        CompletedAt: time.Now(),
    }
    
    return result, nil
}

// Generic function with type parameter (Go 1.18+)
func Filter[T any](items []T, predicate func(T) bool) []T {
    result := make([]T, 0)
    for _, item := range items {
        if predicate(item) {
            result = append(result, item)
        }
    }
    return result
}

// Map function
func Map[T, U any](items []T, mapper func(T) U) []U {
    result := make([]U, len(items))
    for i, item := range items {
        result[i] = mapper(item)
    }
    return result
}

// Main function
func main() {
    fmt.Println("=" + strings.Repeat("=", 59))
    fmt.Println("üîµ Go Concurrent Programming Demo")
    fmt.Println("=" + strings.Repeat("=", 59))
    
    // Get user input
    reader := bufio.NewReader(os.Stdin)
    fmt.Print("\nEnter your name: ")
    userName, _ := reader.ReadString('\n')
    userName = strings.TrimSpace(userName)
    fmt.Printf("\nHello, %s! Welcome to Concurrent Task Processor\n", userName)
    
    // Create a worker pool with 3 workers
    fmt.Println("\nüöÄ Starting worker pool with 3 workers...")
    pool := NewWorkerPool(3)
    pool.Start()
    
    // Create a project
    project := Project{
        Name:        "CodeSphere Development",
        Description: "Building the ultimate online compiler",
        CreatedAt:   time.Now(),
    }
    
    // Generate tasks
    taskNames := []string{
        "Design database schema",
        "Implement authentication",
        "Create API endpoints",
        "Build frontend components",
        "Write unit tests",
        "Deploy to production",
        "Monitor performance",
        "Fix bugs",
        "Update documentation",
        "Review pull requests",
    }
    
    fmt.Println("\nüì¶ Adding tasks to queue:")
    for i, name := range taskNames {
        task := Task{
            ID:       i + 1,
            Name:     name,
            Duration: time.Duration(rand.Intn(500) + 100),
            Priority: rand.Intn(5) + 1,
        }
        project.Tasks = append(project.Tasks, task)
        pool.AddTask(task)
        fmt.Printf("  ‚úì Added task %d: %s\n", task.ID, task.Name)
        time.Sleep(10 * time.Millisecond) // Small delay for demonstration
    }
    
    // Collect results
    fmt.Println("\nüìä Processing results:")
    results := make([]Result, 0)
    
    // Use select with timeout
    timeout := time.After(5 * time.Second)
    
    for i := 0; i < len(taskNames); i++ {
        select {
        case result := <-pool.Results():
            results = append(results, result)
            fmt.Printf("  Result from worker %d: %s (completed at %s)\n",
                result.WorkerID,
                result.Output,
                result.CompletedAt.Format("15:04:05"))
            
        case <-timeout:
            fmt.Println("  ‚ö†Ô∏è Timeout reached!")
            break
        }
    }
    
    // Stop the pool
    pool.Stop()
    
    // Generate project report
    fmt.Println("\n" + strings.Repeat("-", 60))
    fmt.Println("üìã Project Report")
    fmt.Println(strings.Repeat("-", 60))
    
    if reportable, ok := interface{}(project).(Reportable); ok {
        fmt.Print(reportable.GenerateReport())
    }
    
    // Use generic functions
    fmt.Println("\n" + strings.Repeat("-", 60))
    fmt.Println("üîÑ Generic Functions Demo")
    fmt.Println(strings.Repeat("-", 60))
    
    // Filter high priority tasks
    highPriorityTasks := Filter(project.Tasks, func(t Task) bool {
        return t.Priority >= 4
    })
    
    fmt.Printf("\nHigh priority tasks (%d):\n", len(highPriorityTasks))
    for _, task := range highPriorityTasks {
        fmt.Printf("  ‚Ä¢ Task %d: %s (priority %d)\n", task.ID, task.Name, task.Priority)
    }
    
    // Map task names
    taskNames_only := Map(project.Tasks, func(t Task) string {
        return t.Name
    })
    
    fmt.Printf("\nAll task names:\n  %v\n", taskNames_only)
    
    // Error handling demo
    fmt.Println("\n" + strings.Repeat("-", 60))
    fmt.Println("‚ö†Ô∏è Error Handling Demo")
    fmt.Println(strings.Repeat("-", 60))
    
    invalidTask := Task{ID: 99, Name: ""}
    result, err := processTask(invalidTask)
    if err != nil {
        fmt.Printf("  Error: %v\n", err)
    } else {
        fmt.Printf("  Result: %v\n", result)
    }
    
    // Channel direction demo
    fmt.Println("\n" + strings.Repeat("-", 60))
    fmt.Println("üì® Channel Direction Demo")
    fmt.Println(strings.Repeat("-", 60))
    
    ch := make(chan string)
    
    // Send-only channel
    go func(ch chan<- string) {
        ch <- "Hello from goroutine!"
    }(ch)
    
    // Receive-only channel in main
    msg := <-ch
    fmt.Printf("  Received: %s\n", msg)
    
    // Statistics
    fmt.Println("\n" + strings.Repeat("=", 60))
    fmt.Println("üìà Processing Statistics")
    fmt.Println(strings.Repeat("=", 60))
    fmt.Printf("  Total tasks: %d\n", len(project.Tasks))
    fmt.Printf("  Successful: %d\n", len(results))
    fmt.Printf("  Workers used: %d\n", 3)
    
    // Calculate average processing time
    if len(results) > 0 {
        first := results[0].CompletedAt
        last := results[len(results)-1].CompletedAt
        totalTime := last.Sub(first)
        avgTime := totalTime / time.Duration(len(results))
        fmt.Printf("  Average time per task: %v\n", avgTime)
    }
    
    fmt.Println("\n‚úÖ Program completed successfully!")
}`;
        }

        function getGoHelloWorld() {
            return `// Hello World in Go
package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
    
    // Simple input example
    var name string
    fmt.Print("Enter your name: ")
    fmt.Scanln(&name)
    fmt.Printf("Hello, %s!\n", name)
}`;
        }

        function getRustSample() {
            return `// Rust - Systems Programming Example
use std::collections::{HashMap, HashSet};
use std::fmt;
use std::thread;
use std::time::Duration;
use std::sync::{Arc, Mutex};
use rand::Rng;

// Custom error type
#[derive(Debug)]
enum TaskError {
    InvalidTask(String),
    DuplicateTask(String),
    TaskNotFound(String),
}

impl fmt::Display for TaskError {
    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
        match self {
            TaskError::InvalidTask(msg) => write!(f, "Invalid task: {}", msg),
            TaskError::DuplicateTask(msg) => write!(f, "Duplicate task: {}", msg),
            TaskError::TaskNotFound(msg) => write!(f, "Task not found: {}", msg),
        }
    }
}

// Trait definition
trait Describable {
    fn description(&self) -> String;
}

// Enum for task priority
#[derive(Debug, Clone, PartialEq, Eq, Hash)]
enum Priority {
    High,
    Medium,
    Low,
}

impl fmt::Display for Priority {
    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
        match self {
            Priority::High => write!(f, "üî¥ High"),
            Priority::Medium => write!(f, "üü° Medium"),
            Priority::Low => write!(f, "üü¢ Low"),
        }
    }
}

// Struct with generics
struct Task<T> {
    id: u32,
    title: String,
    priority: Priority,
    data: T,
    completed: bool,
    tags: HashSet<String>,
}

impl<T> Task<T> {
    fn new(id: u32, title: String, priority: Priority, data: T) -> Self {
        Task {
            id,
            title,
            priority,
            data,
            completed: false,
            tags: HashSet::new(),
        }
    }
    
    fn complete(&mut self) {
        self.completed = true;
    }
    
    fn add_tag(&mut self, tag: String) {
        self.tags.insert(tag);
    }
    
    fn has_tag(&self, tag: &str) -> bool {
        self.tags.contains(tag)
    }
}

impl<T: fmt::Debug> Describable for Task<T> {
    fn description(&self) -> String {
        format!("Task[{}]: {} ({}) - Data: {:?} - Tags: {:?}",
            self.id, self.title, self.priority, self.data, self.tags)
    }
}

// Task manager with ownership and borrowing
struct TaskManager<T> {
    tasks: HashMap<u32, Task<T>>,
    next_id: u32,
    categories: HashSet<String>,
}

impl<T> TaskManager<T> {
    fn new() -> Self {
        TaskManager {
            tasks: HashMap::new(),
            next_id: 1,
            categories: HashSet::new(),
        }
    }
    
    fn add_task(&mut self, title: String, priority: Priority, data: T) -> Result<u32, TaskError> {
        if title.is_empty() {
            return Err(TaskError::InvalidTask("Title cannot be empty".to_string()));
        }
        
        let id = self.next_id;
        self.next_id += 1;
        
        let task = Task::new(id, title, priority, data);
        self.tasks.insert(id, task);
        
        Ok(id)
    }
    
    fn get_task(&self, id: u32) -> Option<&Task<T>> {
        self.tasks.get(&id)
    }
    
    fn get_task_mut(&mut self, id: u32) -> Option<&mut Task<T>> {
        self.tasks.get_mut(&id)
    }
    
    fn complete_task(&mut self, id: u32) -> Result<(), TaskError> {
        match self.tasks.get_mut(&id) {
            Some(task) => {
                task.complete();
                Ok(())
            },
            None => Err(TaskError::TaskNotFound(format!("Task {} not found", id))),
        }
    }
    
    fn remove_task(&mut self, id: u32) -> Result<Task<T>, TaskError> {
        match self.tasks.remove(&id) {
            Some(task) => Ok(task),
            None => Err(TaskError::TaskNotFound(format!("Task {} not found", id))),
        }
    }
    
    fn tasks_by_priority(&self, priority: &Priority) -> Vec<&Task<T>> {
        self.tasks
            .values()
            .filter(|task| task.priority == *priority)
            .collect()
    }
    
    fn pending_tasks(&self) -> Vec<&Task<T>> {
        self.tasks.values().filter(|task| !task.completed).collect()
    }
    
    fn add_category(&mut self, category: String) {
        self.categories.insert(category);
    }
}

// Function with result type
fn parse_priority(input: &str) -> Result<Priority, TaskError> {
    match input.to_lowercase().as_str() {
        "high" => Ok(Priority::High),
        "medium" => Ok(Priority::Medium),
        "low" => Ok(Priority::Low),
        _ => Err(TaskError::InvalidTask(format!("Invalid priority: {}", input))),
    }
}

// Thread-safe counter using Arc and Mutex
struct Counter {
    count: Arc<Mutex<i32>>,
}

impl Counter {
    fn new() -> Self {
        Counter {
            count: Arc::new(Mutex::new(0)),
        }
    }
    
    fn increment(&self) {
        let mut count = self.count.lock().unwrap();
        *count += 1;
    }
    
    fn value(&self) -> i32 {
        *self.count.lock().unwrap()
    }
}

// Main function
fn main() -> Result<(), TaskError> {
    println!("{}", "=".repeat(60));
    println!("ü¶Ä Rust Systems Programming Demo");
    println!("{}", "=".repeat(60));
    
    // Get user input
    println!("\nEnter your name:");
    let mut input = String::new();
    std::io::stdin().read_line(&mut input).expect("Failed to read line");
    let name = input.trim();
    println!("Hello, {}! Welcome to Task Manager\n", name);
    
    // Create task manager
    let mut manager = TaskManager::<String>::new();
    
    // Add tasks
    println!("üì¶ Adding tasks:");
    let task1 = manager.add_task(
        "Learn Rust ownership".to_string(),
        Priority::High,
        "Chapter 1-3".to_string()
    )?;
    println!("  ‚úì Added task 1");
    
    let task2 = manager.add_task(
        "Build concurrent server".to_string(),
        Priority::High,
        "Use tokio".to_string()
    )?;
    println!("  ‚úì Added task 2");
    
    let task3 = manager.add_task(
        "Write documentation".to_string(),
        Priority::Medium,
        "API docs".to_string()
    )?;
    println!("  ‚úì Added task 3");
    
    let task4 = manager.add_task(
        "Fix bugs".to_string(),
        Priority::Low,
        "Issue #123".to_string()
    )?;
    println!("  ‚úì Added task 4");
    
    // Add tags to tasks
    if let Some(task) = manager.get_task_mut(task1) {
        task.add_tag("learning".to_string());
        task.add_tag("rust".to_string());
    }
    
    if let Some(task) = manager.get_task_mut(task2) {
        task.add_tag("concurrency".to_string());
        task.add_tag("server".to_string());
    }
    
    // Display tasks
    println!("\n{}", "-".repeat(60));
    println!("üìã Task List");
    println!("{}", "-".repeat(60));
    
    for (id, task) in &manager.tasks {
        println!("  Task {}: {} [{}] - Completed: {}",
            id,
            task.title,
            task.priority,
            if task.completed { "‚úÖ" } else { "‚≠ï" }
        );
        
        if !task.tags.is_empty() {
            println!("    Tags: {:?}", task.tags);
        }
    }
    
    // Complete a task
    println!("\n‚úÖ Completing task 1...");
    manager.complete_task(task1)?;
    
    // Show pending tasks
    println!("\n{}", "-".repeat(60));
    println!("‚è≥ Pending Tasks");
    println!("{}", "-".repeat(60));
    
    let pending = manager.pending_tasks();
    for task in pending {
        println!("  ‚Ä¢ {} [{}]", task.title, task.priority);
    }
    
    // Group by priority
    println!("\n{}", "-".repeat(60));
    println!("üìä Tasks by Priority");
    println!("{}", "-".repeat(60));
    
    let priorities = [Priority::High, Priority::Medium, Priority::Low];
    for priority in &priorities {
        let tasks = manager.tasks_by_priority(priority);
        println!("  {}: {} tasks", priority, tasks.len());
        for task in tasks {
            println!("    ‚Ä¢ {} ({})", task.title, task.data);
        }
    }
    
    // Pattern matching demo
    println!("\n{}", "-".repeat(60));
    println!("üéØ Pattern Matching Demo");
    println!("{}", "-".repeat(60));
    
    let test_priority = "high";
    match parse_priority(test_priority) {
        Ok(priority) => println!("  Parsed priority: {}", priority),
        Err(e) => println!("  Error: {}", e),
    }
    
    // Option type demo
    println!("\n{}", "-".repeat(60));
    println!("‚ùì Option Type Demo");
    println!("{}", "-".repeat(60));
    
    let task = manager.get_task(99);
    match task {
        Some(t) => println!("  Found task: {}", t.title),
        None => println!("  Task not found (as expected)"),
    }
    
    // Concurrency demo with Arc and Mutex
    println!("\n{}", "-".repeat(60));
    println!("üîÑ Concurrency Demo");
    println!("{}", "-".repeat(60));
    
    let counter = Arc::new(Counter::new());
    let mut handles = vec![];
    
    for i in 0..5 {
        let counter = Arc::clone(&counter);
        let handle = thread::spawn(move || {
            for _ in 0..10 {
                counter.increment();
                thread::sleep(Duration::from_millis(10));
            }
            println!("  Thread {} completed", i);
        });
        handles.push(handle);
    }
    
    for handle in handles {
        handle.join().unwrap();
    }
    
    println!("  Final counter value: {}", counter.value());
    
    // Iterator and closure demo
    println!("\n{}", "-".repeat(60));
    println!("üîÑ Iterator Demo");
    println!("{}", "-".repeat(60));
    
    let numbers = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    let squares: Vec<i32> = numbers.iter()
        .map(|x| x * x)
        .filter(|x| *x > 20)
        .collect();
    
    println!("  Original: {:?}", numbers);
    println!("  Squares > 20: {:?}", squares);
    
    // Result type demo
    println!("\n{}", "-".repeat(60));
    println!("üìà Statistics");
    println!("{}", "-".repeat(60));
    println!("  Total tasks: {}", manager.tasks.len());
    println!("  Completed: {}", manager.tasks.values().filter(|t| t.completed).count());
    println!("  Pending: {}", manager.pending_tasks().len());
    
    println!("\n‚úÖ Program completed successfully!");
    
    Ok(())
}`;
        }

        function getRustHelloWorld() {
            return `// Hello World in Rust
fn main() {
    println!("Hello, World!");
    
    // Simple input example
    let mut name = String::new();
    println!("Enter your name:");
    std::io::stdin().read_line(&mut name).expect("Failed to read line");
    println!("Hello, {}!", name.trim());
}`;
        }

        function getTypeScriptSample() {
            return `// TypeScript - Type-Safe JavaScript Example

// Interface definitions
interface User {
    id: number;
    name: string;
    email: string;
    role: 'admin' | 'developer' | 'viewer';
    skills: string[];
    createdAt: Date;
}

interface Project {
    id: number;
    name: string;
    description: string;
    techStack: string[];
    ownerId: number;
    contributors: number[];
    stars: number;
    createdAt: Date;
}

// Type alias
type ProjectStats = {
    totalProjects: number;
    totalContributors: number;
    averageStars: number;
    topTechnologies: string[];
    projectsByOwner: Map<number, number>;
};

// Enum
enum TaskStatus {
    Pending = 'PENDING',
    InProgress = 'IN_PROGRESS',
    Completed = 'COMPLETED',
    Blocked = 'BLOCKED'
}

// Generic class
class Repository<T extends { id: number }> {
    private items: Map<number, T> = new Map();
    
    add(item: T): void {
        this.items.set(item.id, item);
        console.log(\`  ‚úì Added item with id: \${item.id}\`);
    }
    
    get(id: number): T | undefined {
        return this.items.get(id);
    }
    
    getAll(): T[] {
        return Array.from(this.items.values());
    }
    
    find(predicate: (item: T) => boolean): T[] {
        return this.getAll().filter(predicate);
    }
    
    update(id: number, updates: Partial<T>): boolean {
        const item = this.items.get(id);
        if (item) {
            this.items.set(id, { ...item, ...updates });
            return true;
        }
        return false;
    }
    
    delete(id: number): boolean {
        return this.items.delete(id);
    }
    
    get size(): number {
        return this.items.size;
    }
}

// Class with access modifiers
class CodeSpherePlatform {
    private users: Repository<User> = new Repository();
    private projects: Repository<Project> = new Repository();
    private tasks: Map<number, { status: TaskStatus; description: string }> = new Map();
    
    constructor(public readonly name: string, private version: string) {
        console.log(\`üöÄ Platform '\${name}' v\${version} initialized\`);
    }
    
    // Public method
    registerUser(user: Omit<User, 'id' | 'createdAt'>): User {
        const newUser: User = {
            ...user,
            id: this.users.size + 1,
            createdAt: new Date()
        };
        this.users.add(newUser);
        return newUser;
    }
    
    // Method with union types
    getUser(id: number): User | undefined {
        return this.users.get(id);
    }
    
    // Method with intersection types
    createProject(project: Omit<Project, 'id' | 'createdAt'>, owner: User): Project {
        if (owner.role !== 'admin' && owner.role !== 'developer') {
            throw new Error(\`User \${owner.name} doesn't have permission to create projects\`);
        }
        
        const newProject: Project = {
            ...project,
            id: this.projects.size + 1,
            createdAt: new Date()
        };
        this.projects.add(newProject);
        return newProject;
    }
    
    // Async method with Promise
    async getProjectStats(): Promise<ProjectStats> {
        // Simulate async operation
        return new Promise((resolve) => {
            setTimeout(() => {
                const projects = this.projects.getAll();
                
                // Count projects by owner
                const projectsByOwner = new Map<number, number>();
                projects.forEach(p => {
                    projectsByOwner.set(p.ownerId, (projectsByOwner.get(p.ownerId) || 0) + 1);
                });
                
                // Get top technologies
                const techCount = new Map<string, number>();
                projects.forEach(p => {
                    p.techStack.forEach(tech => {
                        techCount.set(tech, (techCount.get(tech) || 0) + 1);
                    });
                });
                
                const topTechnologies = Array.from(techCount.entries())
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 3)
                    .map(([tech]) => tech);
                
                resolve({
                    totalProjects: projects.length,
                    totalContributors: new Set(projects.flatMap(p => p.contributors)).size,
                    averageStars: projects.reduce((acc, p) => acc + p.stars, 0) / projects.length,
                    topTechnologies,
                    projectsByOwner
                });
            }, 100);
        });
    }
    
    // Generic method with constraints
    getItemsByOwner<T extends { ownerId: number }>(items: T[], ownerId: number): T[] {
        return items.filter(item => item.ownerId === ownerId);
    }
    
    // Method with type guards
    isProject(item: any): item is Project {
        return item && typeof item === 'object' && 'techStack' in item;
    }
    
    // Method with rest parameters
    addTagsToProject(projectId: number, ...tags: string[]): boolean {
        const project = this.projects.get(projectId);
        if (project) {
            project.techStack.push(...tags);
            return true;
        }
        return false;
    }
    
    // Method with default parameters
    searchProjects(query: string, limit: number = 10): Project[] {
        return this.projects
            .getAll()
            .filter(p => p.name.toLowerCase().includes(query.toLowerCase()))
            .slice(0, limit);
    }
}

// Function overloads
function formatDate(date: Date): string;
function formatDate(date: Date, format: 'short' | 'long'): string;
function formatDate(date: Date, format?: 'short' | 'long'): string {
    if (format === 'short') {
        return date.toLocaleDateString();
    } else if (format === 'long') {
        return date.toLocaleString();
    }
    return date.toISOString();
}

// Utility type demo
type ProjectPreview = Pick<Project, 'id' | 'name' | 'stars'>;
type ProjectWithoutSensitive = Omit<Project, 'ownerId' | 'contributors'>;
type ReadonlyProject = Readonly<Project>;

// Decorator function (experimental)
function log(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    const originalMethod = descriptor.value;
    descriptor.value = function(...args: any[]) {
        console.log(\`  üìù Calling \${propertyKey} with:\`, args);
        const result = originalMethod.apply(this, args);
        console.log(\`  ‚úÖ \${propertyKey} returned:\`, result);
        return result;
    };
    return descriptor;
}

// Main execution
async function main() {
    console.log('='.repeat(60));
    console.log('üìò TypeScript Type-Safe Demo');
    console.log('='.repeat(60));
    
    // Create platform
    const platform = new CodeSpherePlatform('CodeSphere', '2.0.0');
    
    // Register users
    console.log('\nüë• Registering users:');
    const alice = platform.registerUser({
        name: 'Alice Johnson',
        email: 'alice@example.com',
        role: 'admin',
        skills: ['TypeScript', 'React', 'Node.js']
    });
    
    const bob = platform.registerUser({
        name: 'Bob Smith',
        email: 'bob@example.com',
        role: 'developer',
        skills: ['Python', 'Django', 'PostgreSQL']
    });
    
    const charlie = platform.registerUser({
        name: 'Charlie Brown',
        email: 'charlie@example.com',
        role: 'viewer',
        skills: ['UI/UX', 'Figma']
    });
    
    // Create projects
    console.log('\nüì¶ Creating projects:');
    const project1 = platform.createProject({
        name: 'TypeScript Compiler',
        description: 'A modern TypeScript compiler',
        techStack: ['TypeScript', 'Node.js', 'WASM'],
        contributors: [alice.id],
        stars: 1500
    }, alice);
    
    const project2 = platform.createProject({
        name: 'React Dashboard',
        description: 'Analytics dashboard with React',
        techStack: ['TypeScript', 'React', 'Redux', 'Material-UI'],
        contributors: [alice.id, bob.id],
        stars: 890
    }, alice);
    
    const project3 = platform.createProject({
        name: 'API Gateway',
        description: 'GraphQL API gateway',
        techStack: ['TypeScript', 'Node.js', 'GraphQL', 'Apollo'],
        contributors: [bob.id],
        stars: 2300
    }, bob);
    
    // Add tags using rest parameters
    console.log('\nüè∑Ô∏è Adding tags:');
    platform.addTagsToProject(project1.id, 'compiler', 'wasm', 'performance');
    
    // Search projects
    console.log('\nüîç Searching projects:');
    const searchResults = platform.searchProjects('TypeScript', 2);
    searchResults.forEach(p => {
        console.log(\`  ‚Ä¢ \${p.name} (\${p.stars} stars)\`);
    });
    
    // Get statistics
    console.log('\nüìä Platform Statistics:');
    const stats = await platform.getProjectStats();
    console.log(\`  Total Projects: \${stats.totalProjects}\`);
    console.log(\`  Total Contributors: \${stats.totalContributors}\`);
    console.log(\`  Average Stars: \${stats.averageStars.toFixed(2)}\`);
    console.log(\`  Top Technologies: \${stats.topTechnologies.join(', ')}\`);
    
    // Type guard demo
    console.log('\nüõ°Ô∏è Type Guard Demo:');
    const item = platform.getUser(alice.id);
    if (platform.isProject(item)) {
        console.log('  Item is a project');
    } else {
        console.log('  Item is a user');
    }
    
    // Function overload demo
    console.log('\nüìÖ Date Formatting:');
    const now = new Date();
    console.log(\`  ISO: \${formatDate(now)}\`);
    console.log(\`  Short: \${formatDate(now, 'short')}\`);
    console.log(\`  Long: \${formatDate(now, 'long')}\`);
    
    // Utility types demo
    console.log('\nüîß Utility Types:');
    const preview: ProjectPreview = {
        id: project1.id,
        name: project1.name,
        stars: project1.stars
    };
    console.log('  Project Preview:', preview);
    
    // Optional chaining and nullish coalescing
    console.log('\nüîó Optional Chaining:');
    const user = platform.getUser(999);
    const userName = user?.name ?? 'Anonymous';
    console.log(\`  User name: \${userName}\`);
    
    // Template literal types (simulated)
    type EventType = \`\${'user' | 'project'}_\${'created' | 'updated' | 'deleted'}\`;
    const event: EventType = 'user_created';
    console.log(\`  Event type: \${event}\`);
    
    console.log('\n‚úÖ Application completed successfully!');
}

// Run the program
main().catch(console.error);`;
        }

        function getTypeScriptHelloWorld() {
            return `// Hello World in TypeScript
function greet(name: string): string {
    return \`Hello, \${name}!\`;
}

console.log("Hello, World!");

// Simple input example (Node.js)
const readline = require('readline').createInterface({
    input: process.stdin,
    output: process.stdout
});

readline.question('Enter your name: ', (name: string) => {
    console.log(greet(name));
    readline.close();
});`;
        }

        function getSwiftSample() {
            return `// Swift - iOS Development Example
import Foundation

// Protocol definition
protocol Describable {
    func describe() -> String
}

// Enum with associated values
enum TaskPriority {
    case low
    case medium
    case high
    case custom(Int)
    
    var description: String {
        switch self {
        case .low: return "Low"
        case .medium: return "Medium"
        case .high: return "High"
        case .custom(let value): return "Custom (\\(value))"
        }
    }
}

// Struct with properties and methods
struct Task: Describable {
    let id: UUID
    var title: String
    var priority: TaskPriority
    var completed: Bool
    let createdAt: Date
    var tags: [String]
    
    init(title: String, priority: TaskPriority) {
        self.id = UUID()
        self.title = title
        self.priority = priority
        self.completed = false
        self.createdAt = Date()
        self.tags = []
    }
    
    mutating func complete() {
        completed = true
    }
    
    mutating func addTag(_ tag: String) {
        tags.append(tag)
    }
    
    func describe() -> String {
        let status = completed ? "‚úÖ" : "‚≠ï"
        return "\\(status) [\\(priority.description)] \\(title) - Tags: \\(tags.joined(separator: ", "))"
    }
}

// Class with inheritance
class Project {
    let name: String
    var tasks: [Task]
    var deadline: Date?
    
    init(name: String) {
        self.name = name
        self.tasks = []
    }
    
    func addTask(_ task: Task) {
        tasks.append(task)
        print("  ‚úì Added task: \\(task.title)")
    }
    
    func pendingTasks() -> [Task] {
        return tasks.filter { !$0.completed }
    }
    
    func completedTasks() -> [Task] {
        return tasks.filter { $0.completed }
    }
    
    func tasksByPriority(_ priority: TaskPriority) -> [Task] {
        return tasks.filter { task in
            switch (task.priority, priority) {
            case (.low, .low): return true
            case (.medium, .medium): return true
            case (.high, .high): return true
            case (.custom, .custom): return true
            default: return false
            }
        }
    }
    
    var completionRate: Double {
        guard !tasks.isEmpty else { return 0 }
        return Double(completedTasks().count) / Double(tasks.count) * 100
    }
    
    func describe() -> String {
        return """
        üìÅ Project: \\(name)
           Tasks: \\(tasks.count)
           Completed: \\(completedTasks().count)
           Pending: \\(pendingTasks().count)
           Progress: \\(String(format: "%.1f", completionRate))%
        """
    }
}

// Extension with computed properties
extension Task {
    var age: TimeInterval {
        return Date().timeIntervalSince(createdAt)
    }
    
    var isOverdue: Bool {
        return age > 86400 // 24 hours in seconds
    }
}

// Generic function
func filterByType<T>(_ items: [Any], type: T.Type) -> [T] {
    return items.compactMap { $0 as? T }
}

// Error handling
enum TaskError: Error {
    case invalidTask
    case duplicateTask
    case taskNotFound
    
    var localizedDescription: String {
        switch self {
        case .invalidTask: return "Invalid task data"
        case .duplicateTask: return "Task already exists"
        case .taskNotFound: return "Task not found"
        }
    }
}

// Async function with completion handler
func fetchTasks(completion: @escaping (Result<[Task], Error>) -> Void) {
    DispatchQueue.global().asyncAfter(deadline: .now() + 1) {
        let tasks = [
            Task(title: "Learn Swift", priority: .high),
            Task(title: "Build iOS app", priority: .high),
            Task(title: "Write documentation", priority: .medium)
        ]
        completion(.success(tasks))
    }
}

// Main program
print(String(repeating: "=", count: 60))
print("üê¶ Swift iOS Development Demo")
print(String(repeating: "=", count: 60))

// Get user input
print("\nEnter your name: ", terminator: "")
guard let userName = readLine(), !userName.isEmpty else {
    print("Invalid input")
    exit(1)
}
print("Hello, \\(userName)! Welcome to Task Manager\n")

// Create project
let project = Project(name: "CodeSphere iOS App")

// Add tasks
print("üì¶ Adding tasks:")
project.addTask(Task(title: "Design UI in SwiftUI", priority: .high))
project.addTask(Task(title: "Implement networking", priority: .high))
project.addTask(Task(title: "Add Core Data persistence", priority: .medium))
project.addTask(Task(title: "Write unit tests", priority: .low))

// Complete some tasks
print("\n‚úÖ Completing tasks:")
if var firstTask = project.tasks.first {
    firstTask.complete()
    project.tasks[0] = firstTask
    print("  ‚úì Completed: \\(firstTask.title)")
}

// Display project info
print("\n" + String(repeating: "-", count: 60))
print("üìä Project Status")
print(String(repeating: "-", count: 60))
print(project.describe())

// Display tasks by priority
print("\n" + String(repeating: "-", count: 60))
print("üìã Tasks by Priority")
print(String(repeating: "-", count: 60))

let priorities: [TaskPriority] = [.high, .medium, .low]
for priority in priorities {
    let tasks = project.tasksByPriority(priority)
    if !tasks.isEmpty {
        print("\\n\\(priority.description) Priority (\\(tasks.count)):")
        tasks.forEach { print("  ‚Ä¢ \\($0.title)") }
    }
}

// Closure examples
print("\n" + String(repeating: "-", count: 60))
print("üîÑ Closure Examples")
print(String(repeating: "-", count: 60))

// Map example
let taskTitles = project.tasks.map { $0.title }
print("Task titles: \\(taskTitles)")

// Filter example
let highPriorityTasks = project.tasks.filter { task in
    if case .high = task.priority { return true }
    return false
}
print("High priority count: \\(highPriorityTasks.count)")

// Reduce example
let totalCharacters = project.tasks.reduce(0) { $0 + $1.title.count }
print("Total characters in titles: \\(totalCharacters)")

// Async operation demo
print("\n" + String(repeating: "-", count: 60))
print("‚è±Ô∏è Async Operations")
print(String(repeating: "-", count: 60))

let semaphore = DispatchSemaphore(value: 0)
fetchTasks { result in
    switch result {
    case .success(let tasks):
        print("Fetched \\(tasks.count) tasks:")
        tasks.forEach { print("  ‚Ä¢ \\($0.title)") }
    case .failure(let error):
        print("Error: \\(error.localizedDescription)")
    }
    semaphore.signal()
}
_ = semaphore.wait(timeout: .now() + 2)

// Optional handling
print("\n" + String(repeating: "-", count: 60))
print("‚ùì Optional Handling")
print(String(repeating: "-", count: 60))

let optionalTask: Task? = project.tasks.first
if let task = optionalTask {
    print("Found task: \\(task.title)")
}

let taskAge = optionalTask?.age ?? 0
print("Task age: \\(Int(taskAge)) seconds")

// Error handling
print("\n" + String(repeating: "-", count: 60))
print("‚ö†Ô∏è Error Handling")
print(String(repeating: "-", count: 60))

do {
    throw TaskError.taskNotFound
} catch {
    print("Caught error: \\(error.localizedDescription)")
}

// Statistics
print("\n" + String(repeating: "=", count: 60))
print("üìà Final Statistics")
print(String(repeating: "=", count: 60))
print("  Project: \\(project.name)")
print("  Total Tasks: \\(project.tasks.count)")
print("  Completion Rate: \\(String(format: "%.1f", project.completionRate))%")
print("  Pending: \\(project.pendingTasks().count)")
print("  Completed: \\(project.completedTasks().count)")

print("\n‚úÖ Program completed successfully!")`;
        }

        function getSwiftHelloWorld() {
            return `// Hello World in Swift
print("Hello, World!")

// Simple input example
print("Enter your name: ", terminator: "")
if let name = readLine() {
    print("Hello, \\(name)!")
}`;
        }

        function getKotlinSample() {
            return `// Kotlin - Android Development Example

// Data class (automatically generates equals, hashCode, toString)
data class Task(
    val id: Int,
    val title: String,
    val priority: Priority,
    var completed: Boolean = false,
    val tags: MutableList<String> = mutableListOf()
)

// Enum class
enum class Priority {
    LOW, MEDIUM, HIGH;
    
    val icon: String
        get() = when(this) {
            LOW -> "üü¢"
            MEDIUM -> "üü°"
            HIGH -> "üî¥"
        }
}

// Sealed class (restricted class hierarchy)
sealed class Result<out T> {
    data class Success<T>(val data: T) : Result<T>()
    data class Error(val message: String) : Result<Nothing>()
    object Loading : Result<Nothing>()
}

// Interface
interface TaskRepository {
    fun getTasks(): List<Task>
    fun addTask(task: Task)
    fun removeTask(id: Int)
    fun findById(id: Int): Task?
}

// Class with primary constructor
class TaskManager(private val name: String) : TaskRepository {
    private val tasks = mutableListOf<Task>()
    private var nextId = 1
    
    init {
        println("‚úì TaskManager initialized for $name")
    }
    
    // Companion object (like static in Java)
    companion object {
        const val VERSION = "1.0.0"
        fun createDefault(): TaskManager = TaskManager("Default")
    }
    
    // Properties with custom getter
    val pendingTasks: List<Task>
        get() = tasks.filter { !it.completed }
    
    val completedTasks: List<Task>
        get() = tasks.filter { it.completed }
    
    val completionRate: Double
        get() = if (tasks.isNotEmpty()) {
            (completedTasks.size.toDouble() / tasks.size) * 100
        } else 0.0
    
    // Implementation of TaskRepository
    override fun getTasks(): List<Task> = tasks.toList()
    
    override fun addTask(task: Task) {
        val newTask = task.copy(id = nextId++) // Using copy from data class
        tasks.add(newTask)
        println("  ‚úì Added task: ${newTask.title} (${newTask.priority})")
    }
    
    override fun removeTask(id: Int) {
        tasks.removeAll { it.id == id }
    }
    
    override fun findById(id: Int): Task? {
        return tasks.find { it.id == id }
    }
    
    // Extension function inside class
    fun Task.markComplete() {
        val index = tasks.indexOfFirst { it.id == this.id }
        if (index != -1) {
            tasks[index] = this.copy(completed = true)
            println("  ‚úì Completed: ${this.title}")
        }
    }
    
    // Higher-order function
    fun processTasks(processor: (Task) -> Unit) {
        tasks.forEach(processor)
    }
    
    // Generic function
    fun <T> mapTasks(transform: (Task) -> T): List<T> {
        return tasks.map(transform)
    }
    
    // Infix function
    infix fun addTagsToTask(taskId: Int) {
        val task = findById(taskId)
        task?.tags?.addAll(listOf("kotlin", "android"))
        println("  ‚úì Added tags to task $taskId")
    }
}

// Extension function
fun String.toPriority(): Priority? {
    return when (this.uppercase()) {
        "LOW" -> Priority.LOW
        "MEDIUM" -> Priority.MEDIUM
        "HIGH" -> Priority.HIGH
        else -> null
    }
}

// Function with default parameters
fun createTask(
    title: String,
    priority: Priority = Priority.MEDIUM,
    tags: List<String> = emptyList()
): Task {
    return Task(
        id = 0, // Will be set by manager
        title = title,
        priority = priority,
        tags = tags.toMutableList()
    )
}

// Sealed class usage
fun <T> handleResult(result: Result<T>): String {
    return when (result) {
        is Result.Success -> "Success: ${result.data}"
        is Result.Error -> "Error: ${result.message}"
        Result.Loading -> "Loading..."
    }
}

// Suspend function (coroutine)
suspend fun fetchTasksFromServer(): List<Task> {
    // Simulate network delay
    kotlinx.coroutines.delay(1000)
    return listOf(
        Task(1, "Server Task 1", Priority.HIGH),
        Task(2, "Server Task 2", Priority.MEDIUM)
    )
}

// Main function
fun main() {
    println("=".repeat(60))
    println("üÖ∫ Kotlin Android Development Demo")
    println("=".repeat(60))
    
    // Get user input
    print("\nEnter your name: ")
    val userName = readLine() ?: "User"
    println("Hello, $userName! Welcome to Task Manager\n")
    
    // Create task manager
    val manager = TaskManager(userName)
    println("Version: ${TaskManager.VERSION}")
    
    // Add tasks
    println("\nüì¶ Adding tasks:")
    manager.addTask(createTask("Learn Kotlin basics", Priority.HIGH))
    manager.addTask(createTask("Build Android app", Priority.HIGH, listOf("android", "ui")))
    manager.addTask(createTask("Write documentation", Priority.MEDIUM))
    manager.addTask(createTask("Fix bugs", Priority.LOW))
    
    // Complete a task
    println("\n‚úÖ Completing tasks:")
    val firstTask = manager.findById(1)
    firstTask?.let { manager.markComplete(it) }
    
    // Display tasks
    println("\n" + "-".repeat(60))
    println("üìã Task List")
    println("-".repeat(60))
    
    manager.getTasks().forEach { task ->
        val status = if (task.completed) "‚úÖ" else "‚≠ï"
        println("  $status ${task.priority.icon} [${task.id}] ${task.title}")
        if (task.tags.isNotEmpty()) {
            println("     Tags: ${task.tags.joinToString()}")
        }
    }
    
    // Statistics
    println("\n" + "-".repeat(60))
    println("üìä Statistics")
    println("-".repeat(60))
    println("  Total tasks: ${manager.getTasks().size}")
    println("  Pending: ${manager.pendingTasks.size}")
    println("  Completed: ${manager.completedTasks.size}")
    println("  Completion rate: ${"%.1f".format(manager.completionRate)}%")
    
    // Group by priority
    println("\n" + "-".repeat(60))
    println("üìä Tasks by Priority")
    println("-".repeat(60))
    
    Priority.values().forEach { priority ->
        val count = manager.getTasks().count { it.priority == priority }
        println("  ${priority.icon} $priority: $count tasks")
    }
    
    // Higher-order function demo
    println("\n" + "-".repeat(60))
    println("üîÑ Higher-Order Functions")
    println("-".repeat(60))
    
    println("\nProcessing each task:")
    manager.processTasks { task ->
        println("  ‚Ä¢ Processing: ${task.title}")
    }
    
    // Map transformation
    val titles = manager.mapTasks { it.title }
    println("\nTask titles: $titles")
    
    // Infix function
    println("\n" + "-".repeat(60))
    println("üîß Infix Function Demo")
    println("-".repeat(60))
    manager addTagsToTask 1
    
    // String extension
    println("\n" + "-".repeat(60))
    println("üîß Extension Function Demo")
    println("-".repeat(60))
    val priorityStr = "HIGH"
    val priority = priorityStr.toPriority()
    println("  '$priorityStr' converts to: $priority")
    
    // Sealed class demo
    println("\n" + "-".repeat(60))
    println("üì¶ Sealed Class Demo")
    println("-".repeat(60))
    
    val result1: Result<String> = Result.Success("Operation completed")
    val result2: Result<String> = Result.Error("Something went wrong")
    val result3: Result<String> = Result.Loading
    
    println("  ${handleResult(result1)}")
    println("  ${handleResult(result2)}")
    println("  ${handleResult(result3)}")
    
    // Null safety demo
    println("\n" + "-".repeat(60))
    println("üõ°Ô∏è Null Safety Demo")
    println("-".repeat(60))
    
    val nullableTask: Task? = manager.findById(999)
    val taskName = nullableTask?.title ?: "Task not found"
    println("  $taskName")
    
    // Run coroutine demo (simplified)
    println("\n" + "-".repeat(60))
    println("‚è±Ô∏è Coroutine Demo (Simulated)")
    println("-".repeat(60))
    println("  Fetching tasks from server...")
    // In real Kotlin, you'd use runBlocking { ... }
    Thread.sleep(1000) // Simulate delay
    println("  ‚úì Tasks fetched!")
    
    // Destructuring declaration
    println("\n" + "-".repeat(60))
    println("üì¶ Destructuring Demo")
    println("-".repeat(60))
    
    val task = manager.findById(1)
    if (task != null) {
        val (id, title, priority, completed) = task
        println("  Task $id: $title ($priority) - Completed: $completed")
    }
    
    println("\n‚úÖ Program completed successfully!")
}

// Suspend function simulation (would need kotlinx.coroutines)
suspend fun delay(millis: Long) {
    Thread.sleep(millis)
}`;
        }

        function getKotlinHelloWorld() {
            return `// Hello World in Kotlin
fun main() {
    println("Hello, World!")
    
    // Simple input example
    print("Enter your name: ")
    val name = readLine()
    println("Hello, $name!")
}`;
        }

        function getRSample() {
            return `# R - Statistical Computing Example

# Load required libraries (simulated)
# library(ggplot2)
# library(dplyr)

# Create a data frame
students <- data.frame(
    id = 1:10,
    name = c("Alice", "Bob", "Charlie", "David", "Eva", 
             "Frank", "Grace", "Henry", "Ivy", "Jack"),
    age = c(20, 22, 21, 23, 20, 24, 22, 21, 20, 23),
    grade = c(85, 92, 78, 88, 95, 82, 90, 87, 91, 84),
    study_hours = c(15, 20, 12, 18, 25, 14, 22, 16, 24, 17),
    passed = c(TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE)
)

cat("=", 60, "\n")
cat("üìä R Statistical Computing Demo\n")
cat("=", 60, "\n\n")

# Get user input
cat("Enter your name: ")
user_name <- readline()
cat("Hello,", user_name, "! Welcome to Data Analysis\n\n")

# Display the data frame
cat("üìã Student Data:\n")
print(students)
cat("\n")

# Basic statistics
cat("üìà Basic Statistics:\n")
cat("  Number of students:", nrow(students), "\n")
cat("  Average age:", mean(students$age), "\n")
cat("  Average grade:", mean(students$grade), "\n")
cat("  Average study hours:", mean(students$study_hours), "\n")
cat("  Grade range:", range(students$grade), "\n")
cat("  Grade standard deviation:", sd(students$grade), "\n\n")

# Summary statistics
cat("üìä Summary Statistics:\n")
print(summary(students[, c("age", "grade", "study_hours")]))
cat("\n")

# Correlation analysis
cat("üîó Correlation Matrix:\n")
cor_matrix <- cor(students[, c("age", "grade", "study_hours")])
print(round(cor_matrix, 2))
cat("\n")

# Linear regression
cat("üìà Linear Regression (Grade ~ Study Hours):\n")
model <- lm(grade ~ study_hours, data = students)
print(summary(model))
cat("\n")

# Filtering data
cat("üîç Students who passed:\n")
passed_students <- subset(students, passed == TRUE)
print(passed_students[, c("name", "grade")])
cat("\n")

cat("üéì Top performers (grade > 90):\n")
top_students <- subset(students, grade > 90)
print(top_students[, c("name", "grade")])
cat("\n")

# Aggregate statistics
cat("üìä Aggregate by Pass/Fail:\n")
aggregate(cbind(grade, study_hours) ~ passed, data = students, FUN = mean)
cat("\n")

# Custom function
calculate_grade_category <- function(grade) {
    if (grade >= 90) {
        return("A")
    } else if (grade >= 80) {
        return("B")
    } else if (grade >= 70) {
        return("C")
    } else {
        return("F")
    }
}

students$grade_category <- sapply(students$grade, calculate_grade_category)
cat("üìã Grade Categories:\n")
print(table(students$grade_category))
cat("\n")

# Statistical tests
cat("üî¨ T-test (comparing grades of high vs low study hours):\n")
high_study <- subset(students, study_hours > median(study_hours))$grade
low_study <- subset(students, study_hours <= median(study_hours))$grade
t_test <- t.test(high_study, low_study)
print(t_test)
cat("\n")

# ANOVA
cat("üìä ANOVA (Grade by Age Group):\n")
students$age_group <- cut(students$age, breaks = 3, labels = c("Young", "Middle", "Old"))
anova_result <- aov(grade ~ age_group, data = students)
print(summary(anova_result))
cat("\n")

# Probability distributions
cat("üé≤ Normal Distribution Example:\n")
x <- seq(60, 100, length.out = 100)
y <- dnorm(x, mean = mean(students$grade), sd = sd(students$grade))
cat("  Generated normal distribution with mean =", mean(students$grade), 
    "and sd =", sd(students$grade), "\n\n")

# Data visualization (text-based)
cat("üìä Grade Distribution (Text-based Histogram):\n")
hist(students$grade, breaks = 5, plot = FALSE)$counts
breaks <- seq(70, 100, by = 5)
counts <- hist(students$grade, breaks = breaks, plot = FALSE)$counts
for (i in 1:length(breaks)-1) {
    bar <- paste(rep("‚ñà", counts[i]), collapse = "")
    cat(sprintf("  %d-%d: %s %d\n", breaks[i], breaks[i+1], bar, counts[i]))
}
cat("\n")

# Time series example
cat("‚è±Ô∏è Time Series Simulation:\n")
set.seed(123)
time_series <- ts(cumsum(rnorm(50, mean = 0.5, sd = 1)), 
                  start = 1, frequency = 1)
cat("  Generated time series with 50 points\n")
cat("  Mean:", mean(time_series), "\n")
cat("  Trend:", time_series[50] - time_series[1], "\n\n")

# Factor analysis
cat("üìä Factor Analysis (Age Groups):\n")
age_factor <- factor(students$age_group)
print(table(age_factor))
cat("\n")

# Apply family functions
cat("üîÑ Apply Family Examples:\n")
cat("  sapply - column means:\n")
print(sapply(students[, c("age", "grade", "study_hours")], mean))
cat("\n")

cat("  lapply - class of each column:\n")
print(lapply(students, class))
cat("\n")

# Save results to file
cat("üíæ Saving results to 'analysis_results.txt'\n")
sink("analysis_results.txt")
cat("Statistical Analysis Results\n")
cat("=", 40, "\n\n")
cat("Generated on:", date(), "\n\n")
print(summary(students))
sink()

cat("\n‚úÖ Program completed successfully!\n")`;
        }

        function getRHelloWorld() {
            return `# Hello World in R
print("Hello, World!")

# Simple input example
name <- readline(prompt = "Enter your name: ")
print(paste("Hello,", name, "!"))

# Vector example
greetings <- c("Hello", "Hi", "Hey")
print(paste(greetings[1], "from R!"))`;
        }

        let currentMode = 'web';
        let currentLang = 'html';
        let isRunning = false;

        // Initialize
        window.onload = function() {
            loadFromLocalStorage();
            updateLanguageSelector();
            loadLanguage('html');
            updateLanguageInfo();
            
            // Add keyboard shortcut
            document.addEventListener('keydown', (e) => {
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    e.preventDefault();
                    runCode();
                }
            });
        };

        function switchMode(mode, event) {
            currentMode = mode;
            
            // Update tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update language info
            updateLanguageInfo();
            
            // Update language selector
            updateLanguageSelector();
            
            // Load first language of the mode
            const firstLang = Object.keys(languages).find(key => languages[key].mode === mode);
            if (firstLang) {
                loadLanguage(firstLang);
            }
            
            // Show/hide preview
            const previewSection = document.getElementById('preview-section');
            if (mode === 'web') {
                previewSection.classList.add('active');
            } else {
                previewSection.classList.remove('active');
            }
        }

        function updateLanguageInfo() {
            const infoBox = document.querySelector('.info-box p');
            if (currentMode === 'web') {
                infoBox.innerHTML = 'üí° <strong>Web Development Mode:</strong> Write HTML, CSS, and JavaScript with live preview. Perfect for building and testing web pages.';
            } else {
                infoBox.innerHTML = 'üí° <strong>Programming Languages Mode:</strong> Compile and run code in various programming languages. Supports stdin input and shows detailed output.';
            }
        }

        function updateLanguageSelector() {
            const selector = document.getElementById('lang-selector');
            selector.innerHTML = '';
            
            Object.entries(languages).forEach(([key, lang]) => {
                if (lang.mode === currentMode) {
                    const btn = document.createElement('button');
                    btn.className = `lang-btn ${key === currentLang ? 'active' : ''}`;
                    btn.innerHTML = `${lang.icon} ${lang.name} <span style="font-size:0.8rem; opacity:0.7;">${lang.version}</span>`;
                    btn.onclick = () => loadLanguage(key);
                    selector.appendChild(btn);
                }
            });
        }

        function loadLanguage(lang) {
            currentLang = lang;
            
            // Update active state
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Find and activate the correct button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if (btn.innerHTML.includes(languages[lang].name)) {
                    btn.classList.add('active');
                }
            });
            
            // Update editor
            document.getElementById('code-editor').value = languages[lang].sample;
            document.getElementById('editor-icon').textContent = languages[lang].icon;
            document.getElementById('editor-title').innerHTML = `${languages[lang].name} Editor`;
            document.getElementById('version-badge').textContent = languages[lang].version;
            
            // Update language info
            const infoBox = document.querySelector('.info-box p');
            infoBox.innerHTML = `üí° <strong>${languages[lang].name} ${languages[lang].version}:</strong> ${languages[lang].description}`;
            
            // Clear output
            document.getElementById('output').innerHTML = '// Ready to compile. Click Run to execute your code.';
            
            // Update preview if web mode
            if (languages[lang].mode === 'web') {
                runCode();
            }
            
            // Save to localStorage
            saveToLocalStorage();
        }

        function loadHelloWorld() {
            if (languages[currentLang].helloWorld) {
                document.getElementById('code-editor').value = languages[currentLang].helloWorld;
                showToast('üëã Hello World example loaded!');
            }
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        async function runCode() {
            if (isRunning) return;
            
            const code = document.getElementById('code-editor').value;
            const stdin = document.getElementById('stdin-input').value;
            const output = document.getElementById('output');
            const runBtn = document.getElementById('run-btn');
            const previewStatus = document.getElementById('preview-status');
            
            isRunning = true;
            runBtn.innerHTML = '<span class="loading"></span> Running...';
            runBtn.disabled = true;
            
            if (currentMode === 'web') {
                // Web mode - live preview
                const preview = document.getElementById('preview');
                const doc = preview.contentDocument || preview.contentWindow.document;
                
                try {
                    if (currentLang === 'html') {
                        doc.open();
                        doc.write(code);
                        doc.close();
                        output.innerHTML = '<span class="success">‚úì HTML rendered successfully</span>';
                        previewStatus.textContent = '‚úì Live';
                    } else if (currentLang === 'css') {
                        doc.open();
                        doc.write(`
                            <!DOCTYPE html>
                            <html>
                            <head>
                                <style>${code}</style>
                            </head>
                            <body>
                                <div class="container" style="padding: 20px;">
                                    <div class="card" style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                                        <h1 style="color: #333;">CSS Preview</h1>
                                        <p style="color: #666;">This is a sample HTML to demonstrate your CSS styles.</p>
                                        <button class="button" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Sample Button</button>
                                    </div>
                                </div>
                            </body>
                            </html>
                        `);
                        doc.close();
                        output.innerHTML = '<span class="success">‚úì CSS applied successfully</span>';
                        previewStatus.textContent = '‚úì Live';
                    } else if (currentLang === 'js') {
                        doc.open();
                        doc.write(`
                            <!DOCTYPE html>
                            <html>
                            <head>
                                <title>JavaScript Demo</title>
                                <style>
                                    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
                                    #app { max-width: 600px; margin: 0 auto; }
                                    button { 
                                        background: linear-gradient(135deg, #667eea, #764ba2);
                                        color: white;
                                        border: none;
                                        padding: 12px 30px;
                                        border-radius: 25px;
                                        cursor: pointer;
                                        font-size: 16px;
                                    }
                                    .output { margin-top: 20px; padding: 15px; background: white; border-radius: 8px; }
                                </style>
                            </head>
                            <body>
                                <div id="app"></div>
                                <script>
                                    try {
                                        ${code}
                                    } catch(e) {
                                        document.body.innerHTML += '<div style="color:red; padding:20px;">Error: ' + e.message + '</div>';
                                    }
                                <\/script>
                            </body>
                            </html>
                        `);
                        doc.close();
                        output.innerHTML = '<span class="success">‚úì JavaScript executed successfully</span>';
                        previewStatus.textContent = '‚úì Live';
                    }
                } catch (error) {
                    output.innerHTML = `<span class="error">‚úó Error: ${error.message}</span>`;
                    previewStatus.textContent = '‚úó Error';
                }
            } else {
                // Language mode - use Piston API
                try {
                    const language = languages[currentLang].language;
                    const version = languages[currentLang].version;
                    
                    const response = await fetch(`${PISTON_API}/execute`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            language: language,
                            version: version,
                            files: [
                                {
                                    name: getFileName(currentLang),
                                    content: code
                                }
                            ],
                            stdin: stdin,
                            args: [],
                            compile_timeout: 10000,
                            run_timeout: 3000,
                            compile_memory_limit: -1,
                            run_memory_limit: -1
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.run && result.run.output) {
                        if (result.run.stderr) {
                            output.innerHTML = `<span class="error">‚úó Error:</span>\n${result.run.stderr}`;
                        } else {
                            output.innerHTML = `<span class="success">‚úì Compilation successful</span>\n\n${result.run.output}`;
                        }
                    } else if (result.compile && result.compile.stderr) {
                        output.innerHTML = `<span class="error">‚úó Compilation Error:</span>\n${result.compile.stderr}`;
                    } else {
                        output.innerHTML = '<span class="warning">‚ö†Ô∏è No output generated</span>';
                    }
                } catch (error) {
                    output.innerHTML = `<span class="error">‚úó Error: ${error.message}</span>`;
                }
            }
            
            isRunning = false;
            runBtn.innerHTML = '<span>‚ñ∂</span> Run Code';
            runBtn.disabled = false;
            
            // Save to localStorage
            saveToLocalStorage();
        }

        function getFileName(lang) {
            const extensions = {
                'python': 'main.py',
                'java': 'Main.java',
                'cpp': 'main.cpp',
                'c': 'main.c',
                'csharp': 'main.cs',
                'php': 'main.php',
                'ruby': 'main.rb',
                'go': 'main.go',
                'rust': 'main.rs',
                'typescript': 'main.ts',
                'swift': 'main.swift',
                'kotlin': 'main.kt',
                'r': 'main.r',
                'html': 'index.html',
                'css': 'styles.css',
                'js': 'script.js'
            };
            return extensions[lang] || 'main.txt';
        }

        function clearCode() {
            if (confirm('Clear editor and output?')) {
                document.getElementById('code-editor').value = '';
                document.getElementById('stdin-input').value = '';
                document.getElementById('output').innerHTML = '// Ready to compile. Click Run to execute your code.';
                
                if (currentMode === 'web') {
                    const preview = document.getElementById('preview');
                    preview.srcdoc = '';
                    document.getElementById('preview-status').textContent = 'Ready';
                }
                
                saveToLocalStorage();
            }
        }

        function loadSample() {
            loadLanguage(currentLang);
            showToast(`üìã Sample code loaded for ${languages[currentLang].name}`);
        }

        function saveToLocalStorage() {
            const state = {
                language: currentLang,
                code: document.getElementById('code-editor').value,
                stdin: document.getElementById('stdin-input').value,
                mode: currentMode
            };
            localStorage.setItem('codesphere-state', JSON.stringify(state));
        }

        function loadFromLocalStorage() {
            const saved = localStorage.getItem('codesphere-state');
            if (saved) {
                try {
                    const state = JSON.parse(saved);
                    if (state.language && languages[state.language]) {
                        currentLang = state.language;
                        currentMode = state.mode || 'web';
                        
                        // Update UI based on loaded state
                        setTimeout(() => {
                            document.getElementById('code-editor').value = state.code || '';
                            document.getElementById('stdin-input').value = state.stdin || '';
                            
                            // Switch to correct mode
                            const modeBtn = document.querySelector(`.tab-btn:nth-child(${currentMode === 'web' ? 1 : 2})`);
                            if (modeBtn) {
                                switchMode(currentMode, { target: modeBtn });
                            }
                        }, 100);
                    }
                } catch (e) {
                    console.error('Failed to load from localStorage', e);
                }
            }
        }

        // Make functions global
        window.switchMode = switchMode;
        window.runCode = runCode;
        window.clearCode = clearCode;
        window.loadSample = loadSample;
        window.loadHelloWorld = loadHelloWorld;
    </script>
</body>
</html>
